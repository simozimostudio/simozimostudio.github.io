<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>シモジモスタジオ</title>

  <!-- top -->
  <style type="text/css">
    /*サイト全体*/
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400&display=swap');

    :root {
      --blackcolor: #333;
      --blacktrans: rgba(255, 255, 255, 0.1);
      --supertrans: rgba(255, 255, 255, 0);
      --darkgraycolor: #555;
      --whitecolor: #eee;
      --offwhitecolor: #ccc;
      --graycolor: #aaa;
      --redcolor: #fc521f;
      --beigecolor: #ead1ae;
      --inWid: 100%;
      --inHeight: 100svh;
      --fontSizeSmall: 16px;
    }

    html {
      background: linear-gradient(180deg, var(--blackcolor) 60%, var(--darkgraycolor));
    }

    .forhid,
    body,
    html {
      height: var(--inHeight);
      width: var(--inWid);
      overflow: hidden;
    }

    .options,
    #midashiS,
    #search,
    .standfm-embed-iframe,
    #simozimoBox,
    .notetitle,
    #toptop,
    #gameCircle,
    #starPoint,
    #searchIndex,
    #searchKakutei,
    #searchInput,
    #loadingPart {
      position: absolute;
    }

    #searchBox,
    .noteThumbnail {
      position: relative;
    }

    .Year,
    .Month,
    .notetitle {
      top: 0;
      left: 0;
    }

    #search,
    #searchBox {
      top: calc(var(--inHeight)/24);
    }

    #search,
    #searchInput,
    #simozimoBox {
      left: calc(var(--inWid)/24);
    }

    #toptop,
    .options,
    #searchCnt {
      user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
      -moz-user-select: none;
      -khtml-user-select: none;
      -webkit-user-drag: none;
      -khtml-user-drag: none;
    }

    .forHid,
    #search,
    #simozimoBox,
    .tab_content,
    #starPoint,
    #toptop,
    body::-webkit-scrollbar,
    .scrollcontent::-webkit-scrollbar,
    #searchIndex::-webkit-scrollbar,
    #myInput::-webkit-scrollbar {
      display: none;
    }



    .forHid.active {
      display: block;
      animation: appear .5s ease;
    }

    @keyframes appear {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }

    .hiddenAnime {
      transform: scale(0, 0);
    }

    a {
      text-decoration: none;
      display: block;
    }

    #LINK a,
    ul li,
    .midashi,
    .opValue,
    .opValButton {
      display: inline-block;
      vertical-align: top;
    }

    .btn,
    button,
    .youtubebox,
    .options,
    #LINK a,
    #letsplay,
    #roleplay,
    #searchKakutei {
      text-align: center;
    }

    #searchIndex,
    #myInput,
    .youtubebox a,
    .Year button {
      text-align: left;
    }

    select {
      border-radius: 0px;
      appearance: none;
      text-align-last: center;
    }


    ul {
      list-style-type: none;
    }

    body,
    input,
    select,
    button,
    ul,
    .midashi,
    #starPoint {
      padding: 0px;
      margin: 0px;
    }

    body {
      font-family: 'Noto Sans JP', sans-serif;
      color: var(--whitecolor);
      z-index: 0;

    }

    select,
    a,
    input,
    button {
      color: var(--whitecolor);
      font-family: inherit;
      border: none;
      outline: none
    }

    .nosummaries,
    #myInput,
    #searchInput,
    button,
    select,
    #tabs0,
    #tabs1 {
      background-color: transparent;
    }

    option,
    .options,
    #searchBox,
    #simozimoBox,
    #LINK a {
      background-color: var(--whitecolor);
    }

    #search {
      background-color: var(--offwhitecolor);
    }

    .opValue,
    .opValButton {
      box-shadow: 1px 1px 4px var(--darkgraycolor),
        -1px -1px 2px var(--whitecolor);
    }


    .btn {
      box-shadow: 1px 1px 2px var(--graycolor),
        -1px -1px 2px white;
    }


    .summaries {
      border-bottom: 1px solid var(--darkgraycolor);
      color: var(--offwhitecolor);
    }

    .iframeButton,
    #searchCancel,
    #simozimoCancel {
      box-shadow: inset 1px 1px 2px #111,
        inset -1px -1px 2px var(--darkgraycolor);
    }


    #searchKakutei,
    #letsplay {
      box-shadow: inset 2px 2px 4px white,
        inset -2px -2px 4px var(--graycolor);
      background-color: var(--offwhitecolor);
    }

    #letterPopupBox,
    #letterPopuped,
    #LINK a {
      box-shadow: 4px 4px 8px #111,
        -2px -2px 4px var(--darkgraycolor);
    }

    #letterPopuped a {
      box-shadow: inset 1px 1px 2px var(--darkgraycolor),
        inset -1px -1px 2px var(--whitecolor);
    }

    #midashiS {
      box-shadow: inset 1px 1px 2px #111,
        inset -1px -1px 2px var(--darkgraycolor);
    }

    #myUL li:not(.dateClass) {
      background-color: var(--blacktrans);
    }

    .radioclass:not(.iframeButton) {
      box-shadow: 1px 1px 4px #111,
        -1px -1px 2px var(--darkgraycolor);
    }



    #simozimoCancel {
      background-color: var(--blackcolor);
    }




    #gameCircle {
      background-color: var(--redcolor)
    }

    #LINK a:hover {
      background-color: var(--redcolor) !important;
    }

    .Year {
      background: linear-gradient(100deg, var(--whitecolor) 90%, var(--supertrans) 90%, var(--supertrans)) !important;
    }

    .Month {
      background: linear-gradient(100deg, var(--supertrans) 61%, var(--offwhitecolor) 61%, var(--offwhitecolor)) !important;
    }


    #loadingPart {
      background: conic-gradient(var(--supertrans) 50%, var(--redcolor)75%);
      -webkit-mask-image: radial-gradient(transparent 0%,
          transparent 60%,
          #fff 60%,
          #fff 100%);
    }



    .dateClass:hover,
    .opValue:hover,
    .radioclass:hover,
    #myUL li a:hover .summaries,
    #myUL li a:hover .radiotitle,
    ul li a:hover,
    .btn:hover,
    #myInput:hover {
      opacity: 0.8;
    }



    .options,
    option,
    select,
    .radioclass,
    .opValue,
    .opValButton,
    .dateClass button,
    input,
    #searchKakutei,
    #letsplay {
      color: var(--blackcolor);
    }

    #searchCnt {
      color: var(--darkgraycolor);
    }

    .iframeButton {
      color: var(--whitecolor);
    }


    #scores,
    time {
      color: var(--graycolor)
    }

    #starPoint {
      color: gold;
    }

    .Year button {
      color: var(--redcolor);
    }

    body,
    #searchInput,
    select {
      font-size: var(--fontSizeSmall);
    }


    #scores,
    time,
    .summaries,
    .radioclass,
    #searchKakutei,
    #roleplay,
    #letsplay {
      font-size: calc(var(--fontSizeSmall)*0.8);
    }

    #myUL li,
    .opValue,
    .dateClass button {
      font-size: calc(var(--fontSizeSmall)*0.9);
    }

    .dateClass button {
      font-weight: bold;
      font-style: italic;
    }

    .radioclass,
    .opValButton,
    #search,
    #simozimoBox,
    #simozimoCancel {
      border-radius: 5px;
    }

    #myUL li:not(.dateClass),
    .options,
    #searchBox,
    .opValue,
    #roleplay,
    #LINK a,
    #midashiS {
      border-radius: 10px;
    }

    #toptop,
    #gameCircle,
    #loadingPart {
      border-radius: 50%;
    }

    .midashi:first-child,
    .Year {
      border-radius: 10px 0 0 10px;
    }

    .midashi:last-child,
    #letsplay,
    #searchKakutei {
      border-radius: 0 10px 10px 0;
    }

    .Year {
      border-radius: 5px 0 0 5px;
    }

    .Month {
      border-radius: 0 5px 5px 0;
    }

    #toptop,
    #myUL li,
    .notetitle {
      z-index: 1;
    }

    #midashiS,
    #gameCircle,
    #simozimoBox,
    .options,
    #LINK a {
      z-index: 2
    }

    #search,
    #searchKakutei {
      z-index: 3;
    }

    .scrollcontent,
    #searchIndex {
      overflow-y: scroll;
      overflow-x: hidden;
    }

    #myInput {
      overflow-y: hidden;
    }

    .forGrid,
    .options,
    #LINK {
      display: grid;
    }

    .forGrid {
      height: var(--inHeight);
      grid-template-rows: repeat(24, calc(var(--inHeight)/24));
      grid-template-columns: repeat(24, calc(var(--inWid)/24));
    }

    .scrollcontent {
      grid-row: 2/18;
      grid-column: 2/24;
    }

    #maps {
      grid-row: 2/19;
      grid-column: 2/24;
    }

    .options:not(.other) {
      grid-template-columns: repeat(11, 1fr);

      font-size: calc(var(--fontSizeSmall)*0.8);
    }

    #myInput {
      width: 100%;
      grid-column: 2/8;
      overflow-x: auto;
      white-space: nowrap;
    }

    #searchCnt {
      grid-column: 8;
    }

    .btn {
      margin: auto;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      line-height: 20px;
    }

    #batu {
      grid-column: 9;
    }

    #batu:hover {
      box-shadow: inset 1px 1px 2px var(--graycolor),
        inset -1px -1px 2px white;
    }

    #jungyaku {
      grid-column: 10;
      transition: 0.5s;
    }

    #LINK {
      grid-template-columns: repeat(4, 1fr);
      gap: calc(var(--inWid)/48);
      grid-column: 2/24;
      grid-row: 8/14;
    }

    #scores {
      grid-row: 6/7;
    }


    #roleplay {
      text-align: left;
      grid-column: 2/9;
    }

    #letsplay {
      grid-column: 9/12;
    }

    #scores {
      grid-row: 2/3;
      grid-column: 4/22;
    }

    #loadingPart {
      top: calc(var(--inHeight)/2 - var(--inHeight)/48);
      left: calc(var(--inWid)/2 - var(--inHeight)/48);
    }

    #loadingPart,
    .whitebtnLogo {
      width: calc(var(--inHeight)/24);
      height: calc(var(--inHeight)/24);
    }

    #myUL li {
      margin: 0 calc(var(--inHeight)/48) calc(var(--inHeight)/48) 0;
      padding: 10px;
      transition: 0.5s;
    }

    #myUL li a {
      margin-bottom: 8px;
    }

    .radioclass {
      margin-left: 8px;
      padding: 0px 5px 1px 5px;
      width: 27.58px;
      height: 20.67px;
    }

    .summaries {
      margin-top: 5px;
      padding: 5px 10px 5px 10px;
    }

    .opValue {
      padding: 5px 10px;
      margin: 0 3px 10px 2px;
    }

    .opValButton {
      height: 30px;
      line-height: 30px;
      margin: 5px 5px 5px 0;
      padding: 0px 4px;
      font-size: calc(var(--fontSizeSmall)*0.9);
    }

    .dateClass,
    .dateClass button {
      height: 30px;
      line-height: 30px;
      padding-top: 0px !important;
      padding-bottom: 0px !important;
    }

    .dateClass {
      position: sticky;
      position: -webkit-sticky;
      margin-bottom: calc(var(--inWid)/96) !important;
    }

    .Year {
      margin-right: calc(var(--inWid)) !important;
    }

    .Month,
    .Month button {
      text-align: right;
      width: calc(var(--inWid)/24*22 - 20px);
      z-index: 0 !important;
    }

    .Year,
    .Year button {
      width: calc(var(--inWid)/24*15 - 20px);
      z-index: 1 !important;
    }

    .iframeButton {
      float: right;
    }

    .options,
    #searchKakutei,
    #searchBox,
    #roleplay,
    #letsplay,
    #searchInput {
      height: 40px;
      line-height: 40px;
    }

    .options {
      top: calc(var(--inHeight)/24*17.5);
      left: calc(var(--inWid)/24*3);
      width: calc(var(--inWid)/4*3);
    }

    #midashiS {
      top: calc(var(--inHeight)/24*18 + 40px);
      left: calc(var(--inWid)/4);
      height: calc(var(--inHeight)/72);
      width: calc(var(--inWid)/24*12);
      font-size: 0;
    }

    .midashi {
      height: calc(var(--inHeight)/72);
      width: calc(var(--inWid)/24*2);
    }

    #search {
      height: calc(var(--inHeight)/24*16);
      width: calc(var(--inWid)/24*22);
      overflow: hidden;
    }

    #searchBox {
      left: calc(var(--inWid)/12);
      width: calc(var(--inWid)/24*18);
    }

    #searchInput {
      top: 0;
      width: calc(var(--inWid)/24*14);
    }

    #searchKakutei {
      top: 0;
      left: calc(var(--inWid)/24*15);
      width: calc(var(--inWid)/24*3);
    }

    #searchIndex {
      top: calc(var(--inHeight)/12 + 35px);
      left: calc(var(--inWid)/12);
      height: calc(var(--inHeight)/24*14 - 35px);
      width: calc(var(--inWid)/24*18);
      padding-top: 5px;
    }

    #simozimoBox {
      top: calc(var(--inHeight)/24*17 - 160px);
      height: 160px;
      width: calc(var(--inWid)/24*22);
    }

    #simozimoCancel {
      float: right;
      height: 25px;
      line-height: 25px;
      width: 25px;
      margin: 5px;
    }

    .standfm-embed-iframe {
      top: -30px;
      left: calc(var(--inWid)/12 * -2);
      width: calc(var(--inWid)/24*30 - 30px) !important;
      height: 222px !important;
      transform: scale(0.7, 0.7) !important;
    }

    #toptop {
      height: calc((var(--inWid) + var(--inHeight)) * 0.075);
      width: calc((var(--inWid) + var(--inHeight)) * 0.075);
    }

    #letterPopupBox {
      height: 40px;
      width: 40px;
      border-radius: 50%;
      background-color: var(--whitecolor);
      position: absolute;
      left: calc(var(--inWid)/24*22 - 40px);
      top: calc(var(--inHeight)/24*17 - 40px);
    }

    #letterPopup {
      position: relative;
      top: 5px;
      left: 3px;
      height: 32px;
      width: 32px;
    }

    #letterPopuped {
      display: none;
      height: 50px;
      width: 146px;
      background-color: var(--whitecolor);
      position: absolute;
      left: calc(var(--inWid)/24*22 - 186px);
      top: calc(var(--inHeight)/24*17 - 90px);
      border-radius: 10px 10px 0 10px;
      z-index: 0;
    }

    #letterPopuped a {
      display: inline-block;
      text-align: center;
      color: var(--blackcolor);
      z-index: 1;
      margin: 10px 0 10px 10px;
      height: 30px;
      line-height: 30px;
      padding: 0 4px;
      border-radius: 5px;
      background-color: var(--offwhitecolor);
      font-size: var(--fontSizeSmall);
    }

    .whitebtn {
      height: calc(var(--inHeight)/10);
      width: calc((var(--inWid) - var(--inWid)/16)/24*5.5);
    }

    .whitebtnLogo {
      padding-top: calc(var(--inHeight)/36);
    }

    .tiktokLi {
      text-align: center;
      display: block;
      margin-top: 0;
      background-color: var(--supertrans);
    }

    .tiktok-embed {
      border-radius: 5px;
      padding: 0;
      margin: 0;
      transform: scale(0.8, 0.8);
      top: calc(var(--inHeight)/24* -2);
      width: calc(var(--inHeight)/24*10);
      height: calc(var(--inHeight)/24*17);
    }


    .mappp {
      height: calc(var(--inHeight)/12);
      width: 100%;
      margin: 5px 0px;
    }

    #plusOnebtn {
      background-color: var(--whitecolor);
      color: var(--blackcolor);
      width: 100%;
      border-radius: 10px;
    }

    #maps {
      text-align: center;
    }

    #maps input {
      width: 50%;
      border-radius: 5px;
      height: 30px;
      line-height: 30px;
      margin: 5px 0px;
      padding-left: 10px;
    }

    #dartsBtn {
      margin-left: calc(var(--inWid)/6);
      color: var(--darkgraycolor);
    }

    #map1 {
      height: calc(var(--inHeight)/3);
    }

    #map2 {
      height: calc(var(--inHeight)/1.5);
    }
  </style>
</head>


<body>
  <!-- top -->

  <div id="loadingPart"></div>

  <div id="midashiS">
    <div class="midashi" onclick="pagemove(event);"></div>
    <div class="midashi" onclick="pagemove(event);"></div>
    <div class="midashi" onclick="pagemove(event);"></div>
    <div class="midashi" onclick="pagemove(event);"></div>
    <div class="midashi" onclick="pagemove(event);"></div>
    <div class="midashi" onclick="pagemove(event);"></div>
  </div>
  <div class="forHid" onclick="searchDisplayer(event)">
    <div id="search">
      <div id="searchBox">
        <input type="text" id="searchInput" onchange="searchFunction()">
        <span id="searchKakutei">検索</span>
      </div>
      <div id="searchIndex">
        <button class="opValue" id='searchCancel'
          style="background-color: var(--blackcolor); color:var(--whitecolor);">とじる</button>
        <button class="opValue" onclick="searchOption(event)" value="2021/">2021/</button>
        <button class="opValue" onclick="searchOption(event)" value="2022/">2022/</button>
        <button class="opValue" onclick="searchOption(event)" value="2023/">2023/</button>
        <button class="opValue" onclick="searchOption(event)" value="（s）">（s）</button>
        <button class="opValue" onclick="searchOption(event)" value="（k）">（k）</button>
        <button class="opValue" onclick="searchOption(event)" value="（b）">（b）</button>
        <button class="opValue" onclick="searchOption(event)" value="（l）">（l）</button>
        <button class="opValue" onclick="searchOption(event)" value="GUEST">GUEST</button>
        <button class="opValue" onclick="searchOption(event)" value="🎮">🎮</button>
        <button class="opValue" onclick="searchOption(event)" value="🧠">🧠</button>
        <button class="opValue" onclick="searchOption(event)" value="🎽">🎽</button>
        <button class="opValue" onclick="searchOption(event)" value="🏠">🏠</button>
        <button class="opValue" onclick="searchOption(event)" value="💛">💛</button>
        <button class="opValue" onclick="searchOption(event)" value="💦">💦</button>
        <button class="opValue" onclick="searchOption(event)" value="🚙">🚙</button>
        <button class="opValue" onclick="searchOption(event)" value="🍞">🍞</button>
        <button class="opValue" onclick="searchOption(event)" value="😲">😲</button>
        <button class="opValue" onclick="searchOption(event)" value="引越し">引越し</button>
        <button class="opValue" onclick="searchOption(event)" value="映画">映画</button>
        <button class="opValue" onclick="searchOption(event)" value="結婚">結婚</button>
        <button class="opValue" onclick="searchOption(event)" value="買">買</button>
        <button class="opValue" onclick="searchOption(event)" value="友">友</button>
      </div>
    </div>
    <div id="simozimoBox">
      <button id='simozimoCancel' onclick="simoCanButton(event)">×</button>
    </div>
    <div class="forGrid" id='nothing'>
      <div class="options">
        <div id="myInput">検索</div>
        <div id="searchCnt"></div>
        <div class="btn" id="batu" onclick="reset(event);">×</div>
        <div class="btn" id="jungyaku" onclick="transpose(event);">∨</div>
      </div>
      <div class="scrollcontent" id="radioScroll">
        <ul id="myUL"></ul>
      </div>
    </div>
    <div id="letterPopupBox" onclick="letterFunction(event)"><img id="letterPopup" src="https://imgur.com/5BeZ370.png">
    </div>
    <div id="letterPopuped">
      <a
        href="mailto:simozimostudio@gmail.com?subject=シモジモスタジオへお便り&body=内容：%0d%0a%0d%0aラジオネーム：%0d%0a%0d%0a住所：%0d%0a氏名：%0d%0a%0d%0a※ステッカーが欲しい方は住所・氏名の記入をお願い致します。%0d%0a※ラジオネームを記入していただいた場合、エンディングで毎回お名前をお呼びさせていただきます事、予めご了承ください。">メール</a>
      <a href="https://stand.fm/channels/6013b8002b4a4592fe95b767/letter">レター</a>
    </div>
  </div>



  <div class="forHid">
    <div class="forGrid">
      <div class="options other"><select id="tabs0" onchange="changeTab(event)"></select></div>
      <div id="undertabs0" class="scrollcontent"></div>
    </div>
  </div>


  <!-- // newtube -->
  <div class="forHid">
    <div class="forGrid">
      <div class="options other"><select id="tabs1" onchange="changeTab(event)"></select></div>
      <div id="undertabs1" class="scrollcontent">
      </div>
    </div>
  </div>


  <div class="forHid">
    <div class="forGrid">
      <div class="scrollcontent">
        <ul id="tiktok" class="scrollcontent"></ul>
      </div>
    </div>
  </div>


  <div class="forHid">
    <div class="forGrid">
      <div id="LINK">
        <a class="whitebtn"
          href='https://www.google.com/url?q=https%3A%2F%2Fpodcasts.apple.com%2Fjp%2Fpodcast%2F%25E3%2582%25B7%25E3%2583%25A2%25E3%2582%25B8%25E3%2583%25A2%25E3%2582%25B9%25E3%2582%25BF%25E3%2582%25B8%25E3%2582%25AA%2Fid1661944128&sa=D&sntz=1&usg=AOvVaw1wgVaKpTRrk54Xn8kRubiK'><img
            src="https://imgur.com/iMMUjC6.png" class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn"
          href='https://www.google.com/url?q=https%3A%2F%2Fopen.spotify.com%2Fshow%2F3Uueor1MkxGMdjdndJIOLH%3Fsi%3Dee76e930aeb4460e&sa=D&sntz=1&usg=AOvVaw3evkTyjl6tnmd-3Au4aslN'><img
            src="https://imgur.com/qDbtMwV.png" class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn"
          href='https://podcasts.google.com/feed/aHR0cHM6Ly9zdGFuZC5mbS9yc3MvNjAxM2I4MDAyYjRhNDU5MmZlOTViNzY3?hl=ja'><img
            src="https://imgur.com/0NuXeCu.png" class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn"
          href='https://www.google.com/url?q=https%3A%2F%2Famzn.asia%2Fd%2F0Q31Ey5&sa=D&sntz=1&usg=AOvVaw0f9mbhBD47mlxqeC79Ok75'><img
            src="https://imgur.com/CeoDTL8.png" class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn" href='https://twitter.com/simozimo_studio'><img src="https://imgur.com/qvlkWSV.png"
            class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn" href='https://note.com/kainob'><img src="https://imgur.com/KeLFaKO.png" class="whitebtnLogo"
            loading="lazy"></a>
        <a class="whitebtn" href='https://www.youtube.com/@fagofagoch'><img src="https://imgur.com/yzyS7ov.png"
            class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn" href='https://www.tiktok.com/@simozimo_studio?_t=8hBcXcT8Eyn&_r=1'><img
            src="https://imgur.com/1s8Lenm.png" class="whitebtnLogo" loading="lazy"></a>
      </div>
      <div id="scores">
        <div id="loopcount">現在のスコア：0</div>
        <div id="bestscore">ベストスコア：0</div>
      </div>
      <div id="starPoint">星</div>
      <div id="gameCircle" onclick="gamestartButton(event);"></div>

      <div class="options">
        <div id="roleplay" onclick="rorlePlay(event)">遊び方</div>
        <div id="letsplay" onclick="gamestartButton(event);">本番</div>
      </div>

    </div>
    <img src='https://imgur.com/CpPP3J9.png' id="toptop">
  </div>

  <div class="forHid">
    <div class="forGrid">
      <div id="maps" class="scrollcontent">
        <div>出題ピン
          <button id="dartsBtn" onclick="dartsPin(event)">ダーツ</button>
        </div><input id="address1" type="text" onchange="geoChange(1)" placeholder="地名、郵便番号、施設など"></input>
        <div id="map1" class="mappp"></div>
        <div>解答ピン
        </div><input id="address2" type="text" onchange="geoChange(2)" placeholder="地名、郵便番号、施設など"></input>
        <div id="kyori"></div>
        <div id="map2" class="mappp"></div>
      </div>

    </div>

      <script
        src="https://maps.google.com/maps/api/js?key=AIzaSyCmQCFm1bfUmdpZmFPR36p3ReEGwV7A0-8&language=ja"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <script>




        let ballSize, barHeight, barWidth, locater, locater2, setNum, loopCount, skipinputs, makeInfoFlg, mistake
        let looopCnt = document.getElementById('loopcount')
        let inWid = window.innerWidth
        let inHeight = window.innerHeight
        let displayNum = 0
        let lastX = 0
        let loadingNum = 0
        let LongTapTime = 0
        let islooping = 0
        let lastYear = ''
        let lastMonth = ''
        let pointerDown = false;
        let pointerMove = false;
        let MidashiDown = false;
        let MidashiMove = false;
        let gamestart = false;
        let simoClickFlg = false;
        let roleFlg = false;
        let loadingFlg = true;
        let lessInfoflg = false;
        let searchDisplayFlg = false;
        let locaterFlg = false;
        let setNums = []
        let opValHairetu = []
        let transFlg = true
        let liLength = 0
        let liLengthAll = 0
        let simojimoIframeS = []
        const circle = {}
        const stocker = {}
        const star = {}
        const btnStyle = {}
        let ul = document.getElementById("myUL");
        const toptop = document.getElementById("toptop")
        const midashiS = document.getElementById("midashiS")
        const searchDisplay = document.getElementById("search")
        let simoBox = document.getElementById('simozimoBox')
        let searchCnt = document.getElementById("searchCnt")
        let searchIndex = document.getElementById("searchIndex")
        let letterBox = document.getElementById("letterPopuped")
        let LINKPARTS = document.getElementById('LINK')
        let input = document.getElementById('searchInput');
        let vInput = document.getElementById('myInput');
        let forHidEach = document.getElementsByClassName('forHid')
        const fortoptop = forHidEach[4]
        let midashiEach = document.getElementsByClassName('midashi')
        let firstScroll = document.querySelectorAll('.scrollcontent')[0]
        let loadingPart = document.getElementById('loadingPart').style
        let rolePlayPart = document.getElementById('roleplay')
        let letsPlayPart = document.getElementById('letsplay')
        let junGyaku = document.getElementById("jungyaku")
        const clStyle = document.getElementById("gameCircle").style
        const starStyle = document.getElementById('starPoint').style;
        const whBtn = document.getElementsByClassName('whitebtn')
        const isTouch = ('ontouchstart' in document);
        const downEvent = (isTouch) ? 'touchstart' : 'pointerdown';
        const moveEvent = (isTouch) ? 'touchmove' : 'pointermove';
        const upEvent = (isTouch) ? 'touchend' : 'pointerup';



        var firstIdo = 0
        var firstKeido = 0
        var firstResult = 0
        var answerMap, randomPostals
        var gLocations = []

        markers = []
        infoWinds = []

        const R = Math.PI / 180;


        window.onload = resize()

        pageFunction(displayNum)


        let loadLoop = setInterval(() => {
          if (loadingFlg) {
            loadingNum++
            loadingPart.transform = `rotate(${loadingNum}deg)`
          }
          else {
            clearInterval(loadLoop)
          }
        }, 5)


        function pageFunction(displayNum) {
          for (i = 0; i < forHidEach.length; i++) {
            if (displayNum == i) {
              forHidEach[i].classList.add("active")
            } else {
              forHidEach[i].classList.remove("active")
            }
            midashiEach[i].style.backgroundColor = (displayNum == i) ? "var(--redcolor)" : "var(--blacktrans)";
          }
        }

        window.onmousewheel = function (e) {
          if (e.pageY > inHeight / 24 * 17 && !gamestart) {
            if (event.wheelDelta < 0) {
              displayNum += 0.1;
              if (displayNum > 5.9) { displayNum = 0 }
            } else {
              displayNum -= 0.1;
              if (displayNum < 0) { displayNum = 5.9 }
            }
            floorNum = Math.floor(displayNum)
            pageFunction(floorNum)
          }
        }

        midashiS.addEventListener(downEvent, function (e) {
          if (!gamestart && !pointerDown) {
            event.preventDefault();
            MidashiDown = true;
            MidashiMove = false;
          }
        })


        midashiS.addEventListener(moveEvent, function (e) {
          if (!gamestart && MidashiDown) {
            event.preventDefault();
            midashiX = (isTouch) ? event.changedTouches[0].pageX : event.pageX;
            displayNum = Math.floor(((midashiX - inWid / 4) / midashiS.clientWidth) * 6)
            if (displayNum < 0) {
              displayNum = 0
            } else if (displayNum > 5) {
              displayNum = 5
            }
            if (lastX != displayNum) {
              pageFunction(displayNum)
            }
            lastX = displayNum
          }
        })

        midashiS.addEventListener(upEvent, function () {
          MidashiDown = false;
          MidashiMove = true;
        });

        function pagemove(e) {
          displayNum = [].slice.call(midashiEach).indexOf(e.target)
          pageFunction(displayNum)
          gamestart = false;

        }



        fortoptop.addEventListener(downEvent, function (e) {
          pointerDown = true;
          pointerMove = false;
          ataiX = (isTouch) ? event.changedTouches[0].pageX : event.pageX;
          ataiY = (isTouch) ? event.changedTouches[0].pageY : event.pageY;
          if (gamestart || roleFlg) {
            toptop.style.display = 'block'
            toptop.style.top = `${ataiY - (inWid + inHeight) * 0.0375}px`
            toptop.style.left = `${ataiX - (inWid + inHeight) * 0.0375}px`

            stocker.target = toptop;
            stocker.startDeg = + toptop.style.transform.replace(/[^\d.-]/g, '');
            stocker.cx = stocker.target.offsetLeft + stocker.target.offsetWidth / 2;
            stocker.cy = stocker.target.offsetTop + stocker.target.offsetHeight / 2;
            stocker.clickDeg = Math.atan2(ataiX - stocker.cx, stocker.cy - ataiY) * 180 / Math.PI;
          }

          if (islooping == 0) {
            ballLongMove();
          }
        });

        function ballLongMove() {
          let downLoop = setInterval(() => {
            if (gamestart || roleFlg) {
              if (!pointerMove && LongTapTime <= 1000) {
                locater2 = locater / 2.5
                locaterFlg = true;
                if (setDeg <= 45 || setDeg > 315) {
                  circle.top = (circle.top <= barHeight * 2) ? barHeight * 2 : circle.top - locater2
                  clStyle.top = `${circle.top}px`;
                } else if (setDeg <= 135) {
                  circle.right = (circle.right <= 0) ? 0 : circle.right - locater2
                  clStyle.right = `${circle.right}px`;
                } else if (setDeg <= 225) {
                  circle.top = (circle.top >= inHeight - barHeight) ? inHeight - barHeight : circle.top + locater2
                  clStyle.top = `${circle.top}px`;
                } else {
                  circle.right = (circle.right >= inWid - ballSize) ? inWid - ballSize : circle.right + locater2
                  clStyle.right = `${circle.right}px`;
                }
                if (!roleFlg) { HitHantei() }
                LongTapTime++;
                islooping = 1
              }
              else {
                clearInterval(downLoop)
                islooping = 0
                LongTapTime = 0
              }
            }
          }, 10)
        }


        fortoptop.addEventListener(moveEvent, function (e) {
          if (pointerDown) {
            pointerMove = true
            LongTapTime = 0
            islooping = 0
            event.preventDefault();
            ataiX = (isTouch) ? event.changedTouches[0].pageX : event.pageX;
            ataiY = (isTouch) ? event.changedTouches[0].pageY : event.pageY;
            setDeg = (Math.atan2(ataiX - stocker.cx, stocker.cy - ataiY) * 180 / Math.PI
              + stocker.startDeg - stocker.clickDeg + 360) % 360;
            if (gamestart || roleFlg) {
              toptop.style.transform = `rotate(${setDeg}deg)`
              if (setDeg <= 45 || setDeg > 315) {
                circle.top = (circle.top <= barHeight * 2) ? barHeight * 2 : circle.top - locater
                clStyle.top = `${circle.top}px`;
              } else if (setDeg <= 135) {
                circle.right = (circle.right <= 0) ? 0 : circle.right - locater
                clStyle.right = `${circle.right}px`;
              } else if (setDeg <= 225) {
                circle.top = (circle.top >= inHeight - barHeight) ? inHeight - barHeight : circle.top + locater
                clStyle.top = `${circle.top}px`;
              } else {
                circle.right = (circle.right >= inWid - ballSize) ? inWid - ballSize : circle.right + locater
                clStyle.right = `${circle.right}px`;
              }
              if (roleFlg) {
                if (rolePlayPart.innerText != '本番は白いのを避けて' && rolePlayPart.innerText != 'ゲームスタート/ストップ') {
                  rolePlayPart.innerText = '練習する'
                }
              } else {
                HitHantei()
              }
            }
            pointerMove = false;
          }
        }, { passive: false });


        toptop.addEventListener(upEvent, function () {
          pointerDown = false;
          pointerMove = true;
          delete stocker.target
          toptop.style.display = 'none'
          LongTapTime = 0
          islooping = 0
        });


        //resize
        function resize() {
          inWid = window.innerWidth
          inHeight = window.innerHeight

          let yokoDekaFlg = inWid >= inHeight

          documentStyle = document.documentElement.style

          documentStyle.setProperty('--inWid', `${inWid}px`);
          documentStyle.setProperty('--inHeight', `${inHeight}px`);

          //noteサイズ調整

          let noteThumbnail = document.querySelectorAll('.noteThumbnail')
          noteThumbnail.forEach(e => {
            e.style.height = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3 / 1.91}px` : `${inWid / 24 * 22 / 1.91}px`
            e.style.width = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3}px` : `${inWid / 24 * 22}px`
            e.style.margin = (yokoDekaFlg) ? `0 ${inWid / 24}px ${inWid / 24}px 0` : `0 auto ${inHeight / 24}px auto`
          })



          let noteThumbnailImg = document.querySelectorAll('.noteThumbnailImg')
          noteThumbnailImg.forEach(e => {
            e.style.height = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3 / 1.91}px` : `${inWid / 24 * 22 / 1.91}px`
            e.style.width = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3}px` : `${inWid / 24 * 22}px`
          })

          //youtubeサイズ調整
          let iFrame = document.querySelectorAll('iframe')
          iFrame.forEach(e => {
            e.style.height = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3 / 16 * 9}px` : `${inWid / 24 * 22 / 16 * 9}px`
            e.style.width = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3}px` : `${inWid / 24 * 22}px`
          })


          let youtubeBox = document.querySelectorAll('.youtubebox')
          youtubeBox.forEach(e => {
            e.style.height = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3 / 16 * 9 + inHeight / 12}px` : `${inWid / 24 * 22 / 16 * 9 + inHeight / 12}px`
            e.style.width = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3}px` : `${inWid / 24 * 22}px`
            e.style.margin = (yokoDekaFlg) ? `0 ${inWid / 24}px 0 0 ` : `0 0 ${inHeight / 24}px 0`
            e.style.overflow = (yokoDekaFlg) ? 'hidden' : 'display'
          })

          let lastClass = ''
          let lastClassNum = 1

          let noteAndYoutube = document.querySelectorAll('.noteThumbnail,.youtubebox')
          for (i = 0; i < noteAndYoutube.length; i++) {
            if (lastClass != noteAndYoutube[i].className) {
              lastClass = noteAndYoutube[i].className
              lastClassNum = 1
            }
            else {
              lastClassNum++;
            }
            if (yokoDekaFlg && lastClassNum % 3 == 0) {
              noteAndYoutube[i].style.margin = (noteAndYoutube[i].className.indexOf('youtubebox') > -1) ? `0 0 0 0` : `0 0 ${inWid / 24}px 0`
            }
          }

          barHeight = inHeight / 10
          locater = inHeight / 250
          barWidth = (inWid - inWid / 16) / 24 * 5.5
          ballSize = Math.floor(barHeight / 2) - 5

          clStyle.width = `${ballSize}px`
          clStyle.height = `${ballSize}px`
          starStyle.width = `${ballSize}px`
          starStyle.height = `${ballSize}px`
          starStyle.fontSize = `${ballSize}px`

          if (!gamestart) {
            circle.top = inHeight / 24 * 14
            circle.right = inWid / 2 - (ballSize / 2)
            clStyle.top = `${circle.top}px`
            clStyle.right = `${circle.right}px`
          }
        }

        window.addEventListener('DOMContentLoaded', function () {
          window.addEventListener('resize', function () {
            resize();
          });
        });

        //game

        roleHairetu = ['遊び方', '画面内で円を描いて', '練習する', '本番は白いのを避けて']

        function rorlePlay(e) {
          let ETarget = rolePlayPart.innerText
          roleFlg = true;
          if (ETarget == '遊び方') {
            rolePlayPart.innerText = '画面内で円を描いて'
          } else if (ETarget == '練習する') {
            game(e)
            rolePlayPart.innerText = '本番は白いのを避けて'
          } else if (ETarget == 'ゲームスタート/ストップ') {
            roleFlg = false;
            game(e)
          }
        }

        function HitHantei() {
          let circleTop = circle.top
          let circleRight = circle.right
          if (star.starFlg == '出現' && star.stTop - ballSize <= circleTop && star.stTop + ballSize >= circleTop && star.stRight - ballSize <= circleRight && star.stRight + ballSize >= circleRight) {
            starStyle.display = 'none'
            star.starFlg = '入手'
            clStyle.backgroundColor = 'gold'
            star.getCount = loopCount
          }
          if (btnStyle.whTop - ballSize <= circleTop && btnStyle.whTop + barHeight >= circleTop && btnStyle.whRight - ballSize <= circleRight && btnStyle.whRight + barWidth >= circleRight) {
            if (star.starFlg == '入手') {
              if (whBtn[btnStyle.num].style.backgroundColor != 'var(--blacktrans)') {
                whBtn[btnStyle.num].style.backgroundColor = 'var(--blacktrans)'
                loopCount += 1
                looopCnt.innerText = `現在のスコア：${loopCount}`
              }
            }
            else {
              mistake = true
              clStyle.backgroundColor = "transparent"
              clStyle.border = "5px dotted var(--redcolor)"
              pointerDown = false
              pointerMove = true;
            }
          }
        }

        function gamestartButton(e) {
          roleFlg = false;
          if (e.target.id == 'letsplay') {
            if (letsPlayPart.innerText == '本番') {
              letsPlayPart.innerText = '遊び方'
              rolePlayPart.innerText = 'ゲームスタート/ストップ'
              game(e)
            } else {
              letsPlayPart.innerText = '本番'
              rolePlayPart.innerText = '画面内で円を描いて'
              roleFlg = true;
              gamestart = false
            }
          } else {
            letsPlayPart.innerText = '遊び方'
            rolePlayPart.innerText = 'ゲームスタート/ストップ'
            game(e)
          }

        }


        function game(e) {
          islooping = 1
          if (roleHairetu.indexOf(rolePlayPart.innerText) == -1) {
            roleFlg = false;
          }
          if (rolePlayPart.innerText == 'ゲームスタート/ストップ') {
            letsPlayPart.innerText = '遊び方'
          }
          let bestScore = document.getElementById('bestscore');
          star.starFlg = '消滅'
          starStyle.display = 'none'
          clStyle.border = 'none'
          clStyle.backgroundColor = 'var(--redcolor)'
          if (gamestart) {
            gamestart = false
            for (i = 0; i < whBtn.length; i++) {
              whBtn[i].style.backgroundColor = 'var(--whitecolor)'
              whBtn[i].style.position = 'static'
              whBtn[i].style.display = 'inline-block'
            }
          }
          else {
            if (!roleFlg && Number(bestScore.innerText.substr(7, 1)) < loopCount) {
              bestScore.innerText = `ベストスコア：${loopCount}`
            }
            gamestart = true;
            makeInfoFlg = true;
            mistake = false;
            if (!roleFlg) {
              loopCount = 0
              looopCnt.innerText = `現在のスコア：${loopCount}`
            }
            toptop.style.transform = 'rotate(0deg)'
            circle.top = circle.top = inHeight / 24 * 14
            circle.right = inWid / 2 - (ballSize / 2)
            clStyle.top = `${circle.top}px`
            clStyle.right = `${circle.right}px`
            for (i = 0; i < whBtn.length; i++) {
              whBtn[i].style.display = 'none'
            }
            plusMinus = [barWidth, -barWidth, -barWidth * 1.5, barWidth * 1.5, 0]

            let loop = setInterval(() => {
              if (mistake || !gamestart) {
                clearInterval(loop)
              }
              if (makeInfoFlg) {
                btnStyle.num = Math.floor(Math.random() * whBtn.length)
                whStyle = whBtn[btnStyle.num].style
                whStyle.backgroundColor = 'var(--whitecolor)'
                whStyle.position = 'absolute'
                btnStyle.whTop = 0;
                btnStyle.whRight = Math.floor(Math.random() * inWid);
                whStyle.top = '0px';
                whStyle.right = `${btnStyle.whRight}px`
                whStyle.display = 'block'
                makeInfoFlg = false;
              }
              btnStyle.whTop += barHeight;
              btnStyle.whRight += plusMinus[Math.floor(Math.random() * 5)]
              if (btnStyle.whRight < 0) {
                btnStyle.whRight = Math.abs(btnStyle.whRight)
              } else if (btnStyle.whRight > inWid) {
                btnStyle.whRight = inWid * 2 - btnStyle.whRight
              }
              whStyle.top = `${btnStyle.whTop}px`
              whStyle.right = `${btnStyle.whRight}px`
              if (!roleFlg) { HitHantei() }
              if (btnStyle.whTop >= inHeight) {
                makeInfoFlg = true;
                if (!roleFlg) {
                  loopCount += 1
                  looopCnt.innerText = `現在のスコア：${loopCount}`
                }
                if (loopCount % 7 == 0 && loopCount >= 1) {
                  starStyle.display = 'block'
                  star.stTop = barHeight * 3
                  star.stRight = btnStyle.whRight
                  starStyle.top = `${star.stTop}px`
                  starStyle.right = `${star.stRight}px`
                  star.starFlg = '出現';
                } else {
                  star.starFlg = (star.starFlg == '入手') ? '入手' : '消滅'
                  starStyle.display = 'none'
                }
                if (star.starFlg == '入手' && loopCount - star.getCount >= 3) {
                  clStyle.backgroundColor = 'var(--redcolor)'
                  star.starFlg = '消滅'
                }
              }

            }, 500)
          }
        }


        const postalGet = 'https://script.google.com/macros/s/AKfycbwp_lYxMAT3zKW0J8iGma53ZogIEWQUpGlrOjrBucZoCnVe8ivHfmSbuilqCch-rKY/exec';
        fetch(postalGet).then(response => response.json()).then(data => {
          randomPostals = data[0];
          document.getElementById('dartsBtn').style.color = 'var(--whitecolor)'
        })

        const endpoint = "https://script.google.com/macros/s/AKfycbypmDkRQ6_muh8iF9dNVA0q2ycBI-4IQXEKX7xbwf71_qlB8R9-9HUCvVoFTP0Ftek0tA/exec";
        fetch(endpoint)
          .then(response => response.json())
          .then(data => {
            const object = data;
            let htmltxt = ''
            data[0].forEach(data => {
              cls = data.cls
              spcls = data.cls.split(' ')
              txtforbtn = ''
              if (spcls.length != 0) {
                spcls.forEach(c => {
                  if (c != '') {
                    txtforbtn += `<button class='radioclass'onclick=searchOption(event) value='${c}'>${c}</button>`
                  }
                })
              }

              thisYear = data.date.substr(0, 4)
              thisMonth = data.date.substr(5, 2)
              if (lastYear != thisYear) {
                lastYear = thisYear
                htmltxt += `<li class="dateClass Year"><button class='dateOpt' onclick=searchOption(event) value='${thisYear}/'><span>${thisYear}</span><span style='display:none;'>/12/31</span></button></li>`
                liLengthAll += 1;
              }
              if (lastMonth != thisMonth) {
                lastMonth = thisMonth
                htmltxt += `<li class="dateClass Month"><button class='dateOpt' onclick=searchOption(event) value='/${thisMonth}/'><span style='display:none;'>${thisYear}/</span><span>${thisMonth}</span><span style='display:none;'>/31</span></button></li>`
                liLengthAll += 1;
              }

              summaryPart = (data.summary.length != 0) ? `<div class="summaries">${data.summary}</div>` : `<div class="summaries nosummaries">　</div>`;
              htmltxt += `<li class="'${cls}"><a href="${data.url}"><span class='radiotitle'>${data.title}</span>${summaryPart}</a><time>${data.date}</time>${txtforbtn}<button value="${data.url}" class="radioclass iframeButton" onclick='simoClick(event)'>♪</button></li>`

              liLengthAll += 1;
              liLength += 1;
            })
            ul.innerHTML = htmltxt;
            searchCnt.innerHTML = liLength
            for (let x = 0; x < 2; x++) {

              dataArr = [];
              tabtxt = ''
              untabtxt = ''
              ultxt = {}

              forfirstinput = `tabclass${x}`
              data[x + 1].forEach(data => {
                cls = data.cls;
                litxt = (x == 0) ? `<li><a class="noteThumbnail ${cls}" href="${data.url}"><span class="notetitle">${data.title}<br><time>${changeDate(data.pubdate)}</time></span><img src="${data.thumbnail}" class="noteThumbnailImg" loading="lazy"></a></li>` : `<li class="youtubebox ${cls}"><iframe src="https://www.youtube.com/embed/${data.videoid}"style=";border:none;" allowfullscreen loading="lazy"></iframe><p><a href="${data.url}">${data.title.replace(`【${cls}】`, "")}</a></p></li>`
                if (!ultxt[cls]) {
                  tabtxt += `<option class="${forfirstinput}" id="${cls}">${cls}</option>`;
                  untabtxt += `<ul class="tab_content" id="${cls}_content"></ul>`;
                }
                ultxt[cls] = (ultxt[cls]) ? ultxt[cls] + litxt : litxt
              })
              document.getElementById(`tabs${x}`).innerHTML = tabtxt
              document.getElementById(`undertabs${x}`).innerHTML = untabtxt

              Object.keys(ultxt).forEach(e => {
                document.getElementById(`${e}_content`).innerHTML = ultxt[e]
              });
              let firstinput = document.querySelectorAll(`.${forfirstinput}`)[0]
              document.getElementById(`${firstinput.id}_content`).style.display = "block"
            }
            let tiktokUL = document.getElementById('tiktok');
            var tiktokJs = document.createElement('script')
            tiktokJs.src = "https://www.tiktok.com/embed.js"
            let tiktokTxt = ''
            data[3].forEach(data => {

              tiktokTxt += `<li class="tiktokLi"><blockquote class="tiktok-embed" cite="${data.url}" data-video-id="${data.videoid}" data-embed-from="embed_page"><section><a target="_blank" title="@simozimo_studio" href="https://www.tiktok.com/@simozimo_studio?refer=embed">@simozimo_studio</a></section></blockquote></li>`
            });
            tiktokUL.innerHTML = tiktokTxt
            tiktokUL.appendChild(tiktokJs)

            loadingPart.display = "none"
            loadingFlg = false;
            resize();
            firstScroll.scroll(0, 30 + inWid / 96)
          });


        li = ul.getElementsByTagName('li');

        function letterFunction(e) {
          letterBox.style.display = (letterBox.style.display != 'block') ? 'block' : 'none';
        }

        function searchOption(e) {
          let forInputValue = e.target.value;
          if (forInputValue == undefined) { return }
          vInput.innerHTML = vInput.innerHTML.replace('検索', '')
          if (input.value.indexOf(forInputValue) == -1) {
            input.value += ` ${forInputValue} `
            let opValButton = `<div class='opValButton' onclick='opValDel(event)'>${forInputValue} ×</div>`
            vInput.innerHTML += opValButton
            opValHairetu.push(forInputValue)
            searchUpdate(opValHairetu)
          }
        }


        function searchDisplayer(e) {
          let pushId = e.target.id
          if (pushId == 'myInput') {
            if (simoClickFlg) {
              searchDisplay.style.height = 'calc(var(--inHeight)/24*16 - 160px)'
              searchIndex.style.height = 'calc(var(--inHeight)/24*14 - 195px)'
            } else {
              searchDisplay.style.height = 'calc(var(--inHeight)/24*16)'
              searchIndex.style.height = 'calc(var(--inHeight)/24*14 - 35px)'
            }
            searchDisplayFlg = true;
            searchDisplay.style.display = 'block'
            let end = input.value.length
            input.focus();
            input.setSelectionRange(end, end);
          }
          else if (pushId == '' || pushId == 'searchInput' || pushId == 'simozimoCancel') {
            return;
          }
          else {
            searchDisplay.style.display = 'none'
            if (searchDisplayFlg) {
              if (pushId == 'jungyaku' || pushId == 'batu' || opValHairetu.length != 0) {
                seachResultAnime();
              }
              searchDisplayFlg = false;
            }
          }
          if (pushId.indexOf('letter') == -1) {
            letterBox.style.display = 'none'
          }
        }

        function seachResultAnime() {
          if (lessInfoflg) {
            firstScroll.scroll(0, 0);
          } else {
            firstScroll.scroll(0, 30 + inWid / 96)
          }
          for (i = 0; i < liLengthAll; i++) {
            li[i].classList.add("hiddenAnime")
          }

          setTimeout(() => {
            for (i = 0; i < liLengthAll; i++) {
              li[i].classList.remove("hiddenAnime")
            }
          }, 600)


        }


        function searchFunction(e) {
          opValHairetu = input.value.split(' ')
          let forVInputTxt = ''
          opValHairetu = opValHairetu.filter(value => (value.length != 0))
          opValHairetu.forEach(e => {
            forVInputTxt += `<div class='opValButton' onclick='opValDel(event)'>${e} ×</div>`
          })
          vInput.innerHTML = forVInputTxt
          searchUpdate(opValHairetu)
          searchDisplay.style.display = 'none'
        }


        function searchUpdate(opValHairetu) {
          if (opValHairetu.length == 0) {
            reset();
            return;
          } else {
            for (i = 0; i < liLengthAll; i++) {
              li[i].style.display = "inline-block";
            }
            let dateHairetu = [];

            for (i = 0; i < opValHairetu.length; i++) {
              if (opValHairetu[i].indexOf('/') > -1) {
                dateHairetu.push(opValHairetu[i])
              }
              filter = opValHairetu[i].toUpperCase()
              var newLi = document.querySelectorAll('li[style*="display: inline-block;"]');
              newLi.forEach(e => {
                txtValue = e.textContent || e.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                  e.style.display = "inline-block";
                } else {
                  if (e.className.indexOf('dateClass') == -1)
                    e.style.display = "none";
                }
              })
            }
            if (dateHairetu.length > 0) {
              for (i = 0; i < dateHairetu.length; i++) {
                filter = dateHairetu[i]
                var dateLi = (filter.length >= 5) ? document.querySelectorAll('.dateClass[style*="display: inline-block;"]') : document.querySelectorAll('.dateClass:not(.Year)[style*="display: inline-block;"]')
                dateLi.forEach(e => {
                  txtValue = e.textContent || e.innerText;
                  if (txtValue.indexOf(filter) > -1) {
                    e.style.display = "inline-block";
                  } else {
                    e.style.display = "none";
                  }
                })
              }
            }
            getCnt = document.querySelectorAll('li:not(.dateClass)[style*="display: inline-block;"]').length

            if (getCnt <= 50) {
              lessInfoflg = true;
              var dateLi = document.querySelectorAll('.dateClass:not(.Year)[style*="display: inline-block;"]')
              dateLi.forEach(e => {
                e.style.display = "none";
              })
            } else {
              lessInfoflg = false;
            }
            var LastLi = document.querySelectorAll('li[style*="display: inline-block;"]');
            for (i = 0; i < LastLi.length; i++) {
              var EachLi = LastLi[i]
              var PrevLi = LastLi[i - 1]
              if (i > 0 && EachLi.className.indexOf('Month') > -1 && PrevLi.className.indexOf('Month') > -1) {
                PrevLi.style.display = "none";
              } else if (i > 0 && EachLi.className.indexOf('Year') > -1 && PrevLi.className.indexOf('Month') > -1) {
                PrevLi.style.display = "none";
              } else if (i > 0 && EachLi.className.indexOf('Year') > -1 && PrevLi.className.indexOf('Year') > -1) {
                PrevLi.style.display = "none";
              }
              if (i == LastLi.length - 1 && EachLi.className.indexOf('Month') > -1) {
                EachLi.style.display = "none"
              } else if (i == LastLi.length - 1 && EachLi.className.indexOf('Year') > -1) {
                EachLi.style.display = "none"
              }

            }


            searchCnt.innerHTML = getCnt
            seachResultAnime()
          }
        }

        function opValDel(e) {
          e.target.remove();
          str = e.target.innerText;
          delStr = str.substr(0, str.indexOf(' '))
          opValHairetu.splice(opValHairetu.indexOf(delStr), 1)
          input.value = input.value.replace(delStr, '')
          opValHairetu = opValHairetu.filter(value => (value.length != 0))
          searchUpdate(opValHairetu);
        }

        function compareText(a, b) {
          let plmn = (transFlg) ? 1 : -1
          let atime = ''
          let btime = ''
          if (a.className.indexOf('dateClass') > -1) {
            aSpan = a.getElementsByTagName('span')
            for (i = 0; i < aSpan.length; i++) {
              atime += aSpan[i].innerText
            }
          } else {
            atime = a.getElementsByTagName('time')[0].innerText
          }
          if (b.className.indexOf('dateClass') > -1) {
            bSpan = b.getElementsByTagName('span')
            for (i = 0; i < bSpan.length; i++) {
              btime += bSpan[i].innerText
            }
          } else {
            btime = b.getElementsByTagName('time')[0].innerText
          }


          if (atime > btime)
            return 1 * plmn;
          else if (atime < btime)
            return -1 * plmn;
          else if (atime == btime) {
            if (a.className.indexOf('Year') > -1 || a.className.indexOf('Month') > -1) {
              return 1;
            } else if (b.className.indexOf('Year') > -1 || b.className.indexOf('Month') > -1) {
              return 1;
            } else if (a.getElementsByTagName('a')[0] > b.getElementsByTagName('a')[0])
              return 1 * plmn;
            else {
              return -1 * plmn
            }
          }
          return 0;
        }

        function transpose(e) {
          var dateLi = document.querySelectorAll('.dateClass')
          if (transFlg) {
            junGyaku.style.boxShadow = "inset 1px 1px 2px var(--graycolor),inset -1px -1px 2px white"
            junGyaku.innerText = "∧"
            dateLi.forEach(e => {
              eSpan = e.getElementsByTagName('span')
              for (i = 0; i < eSpan.length; i++) {
                if (eSpan[i].innerText == '/31') {
                  eSpan[i].innerText = '/01'
                } else if (eSpan[i].innerText == '/12/31') {
                  eSpan[i].innerText = '/01/01'
                }
              }
            })
            myArray = Array.prototype.slice.call(li);
            myArray.sort(compareText);
            transFlg = false;
          } else {
            junGyaku.style.boxShadow = "1px 1px 2px var(--graycolor), -1px -1px 2px white"
            junGyaku.innerText = "∨"
            dateLi.forEach(e => {
              eSpan = e.getElementsByTagName('span')
              for (i = 0; i < eSpan.length; i++) {
                if (eSpan[i].innerText == '/01') {
                  eSpan[i].innerText = '/31'
                } else if (eSpan[i].innerText == '/01/01') {
                  eSpan[i].innerText = '/12/31'
                }
              }
            })
            myArray = Array.prototype.slice.call(li);
            myArray.sort(compareText);
            transFlg = true;
          }
          for (let i = 0; i < myArray.length; i++) {
            ul.appendChild(ul.removeChild(myArray[i]))
          }
          seachResultAnime()
        }

        function reset(e) {
          for (i = 0; i < liLengthAll; i++) {
            li[i].style.display = "inline-block";
          }
          opValHairetu = []
          input.value = ''
          vInput.innerText = "検索"
          searchDisplay.style.display = 'none'
          vInput.style.color = "var(--blackcolor)"
          searchCnt.innerHTML = liLength
          lessInfoflg = false;
          seachResultAnime();
        }

        //writing
        function changeDate(date) {
          let datArr = date.split(' ')
          let monthArr = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Dec', 'Nov']
          let datstr = `${datArr[3]}/${monthArr.indexOf(datArr[2]) + 1}/${datArr[1]}`
          return datstr;
        }

        function changeTab(e) {
          let check = e.target.value
          let checkId = e.target.id
          let other = (checkId == 'tabs0') ? document.querySelectorAll('.tabclass0') : document.querySelectorAll('.tabclass1');
          document.getElementById(`${check}_content`).style.display = "block"
          other.forEach(e => {
            if (e.id != check) {
              document.getElementById(`${e.id}_content`).style.display = ""
            }
          })
        }


        function simoClick(e) {
          if (simoClickFlg) {
            document.getElementsByClassName('standfm-embed-iframe')[0].remove();
          }
          var forIframeValue = String(e.target.value)
          var iframeTxt = `<iframe src="https://stand.fm/embed${forIframeValue.substr(forIframeValue.indexOf('/episodes'))}" class="standfm-embed-iframe" frameborder="0" allowtransparency="true" allow="encrypted-media" loading="lazy"></iframe>`
          simoBox.style.display = 'block'
          simoBox.innerHTML += iframeTxt
          simoClickFlg = true;
        }

        function simoCanButton(e) {
          document.getElementsByClassName('standfm-embed-iframe')[0].remove();
          simoBox.style.display = 'none'
          simoClickFlg = false;
        }



        function distance(lat1, lng1, lat2, lng2) {
          lat1 *= R;
          lng1 *= R;
          lat2 *= R;
          lng2 *= R;
          return 6371 * Math.acos(Math.cos(lat1) * Math.cos(lat2) * Math.cos(lng2 - lng1) + Math.sin(lat1) * Math.sin(lat2));
        }

        function display(inAd, mapT, num) {
          if (firstResult == 0 && num > 1) {
            document.getElementById('address1').value = '問題の位置を決めて'
            return;
          }
          var target = mapT
          geocoder = new google.maps.Geocoder();

          geocoder.geocode({ address: inAd }, (results, status) => {
            if (status == 'OK') {
              ido = results[0].geometry.location.lat()
              keido = results[0].geometry.location.lng()
              if (gLocations.length <= 1) {
                answerMap = new google.maps.Map(target, {
                  center: results[0].geometry.location,
                  zoom: 10,
                  mapTypeId: 'roadmap'
                });
              }
              if (num == 1) {
                gLocations = []
                markers = []
                infoWinds = []
                document.getElementById('kyori').innerHTML = ''
                firstIdo = ido
                firstKeido = keido
                firstResult = results[0].geometry.location
                marker = new google.maps.Marker({
                  map: answerMap,
                  position: firstResult,
                  animation: google.maps.Animation.DROP
                });
                var infoWindow = new google.maps.InfoWindow({
                  content: `<strong style="color:var(--redcolor);">${inAd}</strong>`,
                  position: answerMap.getCenter()
                });
                infoWindow.open(answerMap, marker);

                target.style.height = `${inHeight / 8}px`
              } else {
                answerKyori = distance(firstIdo, firstKeido, ido, keido).toFixed(2)
                gLocations.push({ gLoc: results[0].geometry.location, gKyori: answerKyori, gName: inAd })

                for (i = 0; i < gLocations.length; i++) {
                  markers[i] = new google.maps.Marker({
                    map: answerMap,
                    position: gLocations[i].gLoc,
                    animation: google.maps.Animation.DROP
                  });
                  infoWinds[i] = new google.maps.InfoWindow({
                    content: `<strong style="color:var(--blackcolor);">${gLocations[i].gName}/${gLocations[i].gKyori}km</strong>`,
                    position: answerMap.getCenter()
                  });

                  infoWinds[i].open(answerMap, markers[i]);
                  markerEvent(i)
                }

                if (answerKyori <= 20) {
                  document.getElementById(`kyori`).innerHTML = `正解！　出題ピンから${answerKyori}km`
                  marker2 = new google.maps.Marker({
                    map: answerMap,
                    position: firstResult,
                    animation: google.maps.Animation.DROP
                  });

                  var infoWindow = new google.maps.InfoWindow({
                    content: `<strong style="color:var(--redcolor);">正解！</strong>`,
                    position: firstResult
                  });
                  infoWindow.open(answerMap, marker2);

                } else {
                  document.getElementById(`kyori`).innerHTML = `出題ピンから${answerKyori}km`
                }

              }

            } else {
              document.getElementById(`kyori`).innerHTML = '該当する場所が見つかりませんでした。'
            }
          });
        }


        // マーカーをクリックしたら吹き出しを表示
        function markerEvent(i) {
          markers[i].addListener('click', function () {
            infoWinds[i].open(answerMap, markers[i]);
          });
        }


        function geoChange(num) {
          var inputAddress = document.getElementById(`address${num}`).value;
          document.getElementById(`address${num}`).blur();
          var target = document.getElementById(`map${num}`);
          display(inputAddress, target, num)
        }

        function dartsPin(e) {
          randP = String(randomPostals[Math.floor(Math.random() * 100) + 1])
          var inAd = `${randP.slice(0, 3)}-${randP.slice(3)}`
          var target = document.getElementById('map1')
          geocoder = new google.maps.Geocoder();
          geocoder.geocode({ address: inAd }, (results, status) => {
            if (status == 'OK') {
              var inputAddress = results[0].formatted_address
              gLocations = []
              markers = []
              infoWinds = []
              document.getElementById('address1').value = ''
              document.getElementById('kyori').innerHTML = ''
              ido = results[0].geometry.location.lat() + 0.01
              keido = results[0].geometry.location.lng() + 0.01
              const map = new google.maps.Map(target, {
                center: { lat: ido, lng: keido },
                zoom: 18,
                mapTypeId: 'satellite'
              });
              new google.maps.Marker({
                map: map,
                position: { lat: ido, lng: keido },
                animation: google.maps.Animation.DROP
              });
              firstIdo = ido
              firstKeido = keido
              firstResult = { lat: ido, lng: keido }
              document.getElementById('map2').innerHTML = ''
            }
            else {
              target.innerHTML += '該当する場所が見つかりませんでした。'
            }
          })
        }

      </script>

</body>

</html><!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>シモジモスタジオ</title>

  <!-- top -->
  <style type="text/css">
    /*サイト全体*/
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400&display=swap');

    :root {
      --blackcolor: #333;
      --blacktrans: rgba(255, 255, 255, 0.1);
      --supertrans: rgba(255, 255, 255, 0);
      --darkgraycolor: #555;
      --whitecolor: #eee;
      --offwhitecolor: #ccc;
      --graycolor: #aaa;
      --redcolor: #fc521f;
      --beigecolor: #ead1ae;
      --inWid: 100%;
      --inHeight: 100svh;
      --fontSizeSmall: 16px;
    }

    html {
      background: linear-gradient(180deg, var(--blackcolor) 60%, var(--darkgraycolor));
    }

    .forhid,
    body,
    html {
      height: var(--inHeight);
      width: var(--inWid);
      overflow: hidden;
    }

    .options,
    #midashiS,
    #search,
    .standfm-embed-iframe,
    #simozimoBox,
    .notetitle,
    #toptop,
    #gameCircle,
    #starPoint,
    #searchIndex,
    #searchKakutei,
    #searchInput,
    #loadingPart {
      position: absolute;
    }

    #searchBox,
    .noteThumbnail {
      position: relative;
    }

    .Year,
    .Month,
    .notetitle {
      top: 0;
      left: 0;
    }

    #search,
    #searchBox {
      top: calc(var(--inHeight)/24);
    }

    #search,
    #searchInput,
    #simozimoBox {
      left: calc(var(--inWid)/24);
    }

    #toptop,
    .options,
    #searchCnt {
      user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
      -moz-user-select: none;
      -khtml-user-select: none;
      -webkit-user-drag: none;
      -khtml-user-drag: none;
    }

    .forHid,
    #search,
    #simozimoBox,
    .tab_content,
    #starPoint,
    #toptop,
    body::-webkit-scrollbar,
    .scrollcontent::-webkit-scrollbar,
    #searchIndex::-webkit-scrollbar,
    #myInput::-webkit-scrollbar {
      display: none;
    }



    .forHid.active {
      display: block;
      animation: appear .5s ease;
    }

    @keyframes appear {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 1;
      }
    }

    .hiddenAnime {
      transform: scale(0, 0);
    }

    a {
      text-decoration: none;
      display: block;
    }

    #LINK a,
    ul li,
    .midashi,
    .opValue,
    .opValButton {
      display: inline-block;
      vertical-align: top;
    }

    .btn,
    button,
    .youtubebox,
    .options,
    #LINK a,
    #letsplay,
    #roleplay,
    #searchKakutei {
      text-align: center;
    }

    #searchIndex,
    #myInput,
    .youtubebox a,
    .Year button {
      text-align: left;
    }

    select {
      border-radius: 0px;
      appearance: none;
      text-align-last: center;
    }


    ul {
      list-style-type: none;
    }

    body,
    input,
    select,
    button,
    ul,
    .midashi,
    #starPoint {
      padding: 0px;
      margin: 0px;
    }

    body {
      font-family: 'Noto Sans JP', sans-serif;
      color: var(--whitecolor);
      z-index: 0;

    }

    select,
    a,
    input,
    button {
      color: var(--whitecolor);
      font-family: inherit;
      border: none;
      outline: none
    }

    .nosummaries,
    #myInput,
    #searchInput,
    button,
    select,
    #tabs0,
    #tabs1 {
      background-color: transparent;
    }

    option,
    .options,
    #searchBox,
    #simozimoBox,
    #LINK a {
      background-color: var(--whitecolor);
    }

    #search {
      background-color: var(--offwhitecolor);
    }

    .opValue,
    .opValButton {
      box-shadow: 1px 1px 4px var(--darkgraycolor),
        -1px -1px 2px var(--whitecolor);
    }


    .btn {
      box-shadow: 1px 1px 2px var(--graycolor),
        -1px -1px 2px white;
    }


    .summaries {
      border-bottom: 1px solid var(--darkgraycolor);
      color: var(--offwhitecolor);
    }

    .iframeButton,
    #searchCancel,
    #simozimoCancel {
      box-shadow: inset 1px 1px 2px #111,
        inset -1px -1px 2px var(--darkgraycolor);
    }


    #searchKakutei,
    #letsplay {
      box-shadow: inset 2px 2px 4px white,
        inset -2px -2px 4px var(--graycolor);
      background-color: var(--offwhitecolor);
    }

    #letterPopupBox,
    #letterPopuped,
    #LINK a {
      box-shadow: 4px 4px 8px #111,
        -2px -2px 4px var(--darkgraycolor);
    }

    #letterPopuped a {
      box-shadow: inset 1px 1px 2px var(--darkgraycolor),
        inset -1px -1px 2px var(--whitecolor);
    }

    #midashiS {
      box-shadow: inset 1px 1px 2px #111,
        inset -1px -1px 2px var(--darkgraycolor);
    }

    #myUL li:not(.dateClass) {
      background-color: var(--blacktrans);
    }

    .radioclass:not(.iframeButton) {
      box-shadow: 1px 1px 4px #111,
        -1px -1px 2px var(--darkgraycolor);
    }



    #simozimoCancel {
      background-color: var(--blackcolor);
    }




    #gameCircle {
      background-color: var(--redcolor)
    }

    #LINK a:hover {
      background-color: var(--redcolor) !important;
    }

    .Year {
      background: linear-gradient(100deg, var(--whitecolor) 90%, var(--supertrans) 90%, var(--supertrans)) !important;
    }

    .Month {
      background: linear-gradient(100deg, var(--supertrans) 61%, var(--offwhitecolor) 61%, var(--offwhitecolor)) !important;
    }


    #loadingPart {
      background: conic-gradient(var(--supertrans) 50%, var(--redcolor)75%);
      -webkit-mask-image: radial-gradient(transparent 0%,
          transparent 60%,
          #fff 60%,
          #fff 100%);
    }



    .dateClass:hover,
    .opValue:hover,
    .radioclass:hover,
    #myUL li a:hover .summaries,
    #myUL li a:hover .radiotitle,
    ul li a:hover,
    .btn:hover,
    #myInput:hover {
      opacity: 0.8;
    }



    .options,
    option,
    select,
    .radioclass,
    .opValue,
    .opValButton,
    .dateClass button,
    input,
    #searchKakutei,
    #letsplay {
      color: var(--blackcolor);
    }

    #searchCnt {
      color: var(--darkgraycolor);
    }

    .iframeButton {
      color: var(--whitecolor);
    }


    #scores,
    time {
      color: var(--graycolor)
    }

    #starPoint {
      color: gold;
    }

    .Year button {
      color: var(--redcolor);
    }

    body,
    #searchInput,
    select {
      font-size: var(--fontSizeSmall);
    }


    #scores,
    time,
    .summaries,
    .radioclass,
    #searchKakutei,
    #roleplay,
    #letsplay {
      font-size: calc(var(--fontSizeSmall)*0.8);
    }

    #myUL li,
    .opValue,
    .dateClass button {
      font-size: calc(var(--fontSizeSmall)*0.9);
    }

    .dateClass button {
      font-weight: bold;
      font-style: italic;
    }

    .radioclass,
    .opValButton,
    #search,
    #simozimoBox,
    #simozimoCancel {
      border-radius: 5px;
    }

    #myUL li:not(.dateClass),
    .options,
    #searchBox,
    .opValue,
    #roleplay,
    #LINK a,
    #midashiS {
      border-radius: 10px;
    }

    #toptop,
    #gameCircle,
    #loadingPart {
      border-radius: 50%;
    }

    .midashi:first-child,
    .Year {
      border-radius: 10px 0 0 10px;
    }

    .midashi:last-child,
    #letsplay,
    #searchKakutei {
      border-radius: 0 10px 10px 0;
    }

    .Year {
      border-radius: 5px 0 0 5px;
    }

    .Month {
      border-radius: 0 5px 5px 0;
    }

    #toptop,
    #myUL li,
    .notetitle {
      z-index: 1;
    }

    #midashiS,
    #gameCircle,
    #simozimoBox,
    .options,
    #LINK a {
      z-index: 2
    }

    #search,
    #searchKakutei {
      z-index: 3;
    }

    .scrollcontent,
    #searchIndex {
      overflow-y: scroll;
      overflow-x: hidden;
    }

    #myInput {
      overflow-y: hidden;
    }

    .forGrid,
    .options,
    #LINK {
      display: grid;
    }

    .forGrid {
      height: var(--inHeight);
      grid-template-rows: repeat(24, calc(var(--inHeight)/24));
      grid-template-columns: repeat(24, calc(var(--inWid)/24));
    }

    .scrollcontent {
      grid-row: 2/18;
      grid-column: 2/24;
    }

    #maps {
      grid-row: 2/19;
      grid-column: 2/24;
    }

    .options:not(.other) {
      grid-template-columns: repeat(11, 1fr);

      font-size: calc(var(--fontSizeSmall)*0.8);
    }

    #myInput {
      width: 100%;
      grid-column: 2/8;
      overflow-x: auto;
      white-space: nowrap;
    }

    #searchCnt {
      grid-column: 8;
    }

    .btn {
      margin: auto;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      line-height: 20px;
    }

    #batu {
      grid-column: 9;
    }

    #batu:hover {
      box-shadow: inset 1px 1px 2px var(--graycolor),
        inset -1px -1px 2px white;
    }

    #jungyaku {
      grid-column: 10;
      transition: 0.5s;
    }

    #LINK {
      grid-template-columns: repeat(4, 1fr);
      gap: calc(var(--inWid)/48);
      grid-column: 2/24;
      grid-row: 8/14;
    }

    #scores {
      grid-row: 6/7;
    }


    #roleplay {
      text-align: left;
      grid-column: 2/9;
    }

    #letsplay {
      grid-column: 9/12;
    }

    #scores {
      grid-row: 2/3;
      grid-column: 4/22;
    }

    #loadingPart {
      top: calc(var(--inHeight)/2 - var(--inHeight)/48);
      left: calc(var(--inWid)/2 - var(--inHeight)/48);
    }

    #loadingPart,
    .whitebtnLogo {
      width: calc(var(--inHeight)/24);
      height: calc(var(--inHeight)/24);
    }

    #myUL li {
      margin: 0 calc(var(--inHeight)/48) calc(var(--inHeight)/48) 0;
      padding: 10px;
      transition: 0.5s;
    }

    #myUL li a {
      margin-bottom: 8px;
    }

    .radioclass {
      margin-left: 8px;
      padding: 0px 5px 1px 5px;
      width: 27.58px;
      height: 20.67px;
    }

    .summaries {
      margin-top: 5px;
      padding: 5px 10px 5px 10px;
    }

    .opValue {
      padding: 5px 10px;
      margin: 0 3px 10px 2px;
    }

    .opValButton {
      height: 30px;
      line-height: 30px;
      margin: 5px 5px 5px 0;
      padding: 0px 4px;
      font-size: calc(var(--fontSizeSmall)*0.9);
    }

    .dateClass,
    .dateClass button {
      height: 30px;
      line-height: 30px;
      padding-top: 0px !important;
      padding-bottom: 0px !important;
    }

    .dateClass {
      position: sticky;
      position: -webkit-sticky;
      margin-bottom: calc(var(--inWid)/96) !important;
    }

    .Year {
      margin-right: calc(var(--inWid)) !important;
    }

    .Month,
    .Month button {
      text-align: right;
      width: calc(var(--inWid)/24*22 - 20px);
      z-index: 0 !important;
    }

    .Year,
    .Year button {
      width: calc(var(--inWid)/24*15 - 20px);
      z-index: 1 !important;
    }

    .iframeButton {
      float: right;
    }

    .options,
    #searchKakutei,
    #searchBox,
    #roleplay,
    #letsplay,
    #searchInput {
      height: 40px;
      line-height: 40px;
    }

    .options {
      top: calc(var(--inHeight)/24*17.5);
      left: calc(var(--inWid)/24*3);
      width: calc(var(--inWid)/4*3);
    }

    #midashiS {
      top: calc(var(--inHeight)/24*18 + 40px);
      left: calc(var(--inWid)/4);
      height: calc(var(--inHeight)/72);
      width: calc(var(--inWid)/24*12);
      font-size: 0;
    }

    .midashi {
      height: calc(var(--inHeight)/72);
      width: calc(var(--inWid)/24*2);
    }

    #search {
      height: calc(var(--inHeight)/24*16);
      width: calc(var(--inWid)/24*22);
      overflow: hidden;
    }

    #searchBox {
      left: calc(var(--inWid)/12);
      width: calc(var(--inWid)/24*18);
    }

    #searchInput {
      top: 0;
      width: calc(var(--inWid)/24*14);
    }

    #searchKakutei {
      top: 0;
      left: calc(var(--inWid)/24*15);
      width: calc(var(--inWid)/24*3);
    }

    #searchIndex {
      top: calc(var(--inHeight)/12 + 35px);
      left: calc(var(--inWid)/12);
      height: calc(var(--inHeight)/24*14 - 35px);
      width: calc(var(--inWid)/24*18);
      padding-top: 5px;
    }

    #simozimoBox {
      top: calc(var(--inHeight)/24*17 - 160px);
      height: 160px;
      width: calc(var(--inWid)/24*22);
    }

    #simozimoCancel {
      float: right;
      height: 25px;
      line-height: 25px;
      width: 25px;
      margin: 5px;
    }

    .standfm-embed-iframe {
      top: -30px;
      left: calc(var(--inWid)/12 * -2);
      width: calc(var(--inWid)/24*30 - 30px) !important;
      height: 222px !important;
      transform: scale(0.7, 0.7) !important;
    }

    #toptop {
      height: calc((var(--inWid) + var(--inHeight)) * 0.075);
      width: calc((var(--inWid) + var(--inHeight)) * 0.075);
    }

    #letterPopupBox {
      height: 40px;
      width: 40px;
      border-radius: 50%;
      background-color: var(--whitecolor);
      position: absolute;
      left: calc(var(--inWid)/24*22 - 40px);
      top: calc(var(--inHeight)/24*17 - 40px);
    }

    #letterPopup {
      position: relative;
      top: 5px;
      left: 3px;
      height: 32px;
      width: 32px;
    }

    #letterPopuped {
      display: none;
      height: 50px;
      width: 146px;
      background-color: var(--whitecolor);
      position: absolute;
      left: calc(var(--inWid)/24*22 - 186px);
      top: calc(var(--inHeight)/24*17 - 90px);
      border-radius: 10px 10px 0 10px;
      z-index: 0;
    }

    #letterPopuped a {
      display: inline-block;
      text-align: center;
      color: var(--blackcolor);
      z-index: 1;
      margin: 10px 0 10px 10px;
      height: 30px;
      line-height: 30px;
      padding: 0 4px;
      border-radius: 5px;
      background-color: var(--offwhitecolor);
      font-size: var(--fontSizeSmall);
    }

    .whitebtn {
      height: calc(var(--inHeight)/10);
      width: calc((var(--inWid) - var(--inWid)/16)/24*5.5);
    }

    .whitebtnLogo {
      padding-top: calc(var(--inHeight)/36);
    }

    .tiktokLi {
      text-align: center;
      display: block;
      margin-top: 0;
      background-color: var(--supertrans);
    }

    .tiktok-embed {
      border-radius: 5px;
      padding: 0;
      margin: 0;
      transform: scale(0.8, 0.8);
      top: calc(var(--inHeight)/24* -2);
      width: calc(var(--inHeight)/24*10);
      height: calc(var(--inHeight)/24*17);
    }


    .mappp {
      height: calc(var(--inHeight)/12);
      width: 100%;
      margin: 5px 0px;
    }

    #plusOnebtn {
      background-color: var(--whitecolor);
      color: var(--blackcolor);
      width: 100%;
      border-radius: 10px;
    }

    #maps {
      text-align: center;
    }

    #maps input {
      width: 50%;
      border-radius: 5px;
      height: 30px;
      line-height: 30px;
      margin: 5px 0px;
      padding-left: 10px;
    }

    #dartsBtn {
      margin-left: calc(var(--inWid)/6);
      color: var(--darkgraycolor);
    }

    #map1 {
      height: calc(var(--inHeight)/3);
    }

    #map2 {
      height: calc(var(--inHeight)/1.5);
    }
  </style>
</head>


<body>
  <!-- top -->

  <div id="loadingPart"></div>

  <div id="midashiS">
    <div class="midashi" onclick="pagemove(event);"></div>
    <div class="midashi" onclick="pagemove(event);"></div>
    <div class="midashi" onclick="pagemove(event);"></div>
    <div class="midashi" onclick="pagemove(event);"></div>
    <div class="midashi" onclick="pagemove(event);"></div>
    <div class="midashi" onclick="pagemove(event);"></div>
  </div>
  <div class="forHid" onclick="searchDisplayer(event)">
    <div id="search">
      <div id="searchBox">
        <input type="text" id="searchInput" onchange="searchFunction()">
        <span id="searchKakutei">検索</span>
      </div>
      <div id="searchIndex">
        <button class="opValue" id='searchCancel'
          style="background-color: var(--blackcolor); color:var(--whitecolor);">とじる</button>
        <button class="opValue" onclick="searchOption(event)" value="2021/">2021/</button>
        <button class="opValue" onclick="searchOption(event)" value="2022/">2022/</button>
        <button class="opValue" onclick="searchOption(event)" value="2023/">2023/</button>
        <button class="opValue" onclick="searchOption(event)" value="（s）">（s）</button>
        <button class="opValue" onclick="searchOption(event)" value="（k）">（k）</button>
        <button class="opValue" onclick="searchOption(event)" value="（b）">（b）</button>
        <button class="opValue" onclick="searchOption(event)" value="（l）">（l）</button>
        <button class="opValue" onclick="searchOption(event)" value="GUEST">GUEST</button>
        <button class="opValue" onclick="searchOption(event)" value="🎮">🎮</button>
        <button class="opValue" onclick="searchOption(event)" value="🧠">🧠</button>
        <button class="opValue" onclick="searchOption(event)" value="🎽">🎽</button>
        <button class="opValue" onclick="searchOption(event)" value="🏠">🏠</button>
        <button class="opValue" onclick="searchOption(event)" value="💛">💛</button>
        <button class="opValue" onclick="searchOption(event)" value="💦">💦</button>
        <button class="opValue" onclick="searchOption(event)" value="🚙">🚙</button>
        <button class="opValue" onclick="searchOption(event)" value="🍞">🍞</button>
        <button class="opValue" onclick="searchOption(event)" value="😲">😲</button>
        <button class="opValue" onclick="searchOption(event)" value="引越し">引越し</button>
        <button class="opValue" onclick="searchOption(event)" value="映画">映画</button>
        <button class="opValue" onclick="searchOption(event)" value="結婚">結婚</button>
        <button class="opValue" onclick="searchOption(event)" value="買">買</button>
        <button class="opValue" onclick="searchOption(event)" value="友">友</button>
      </div>
    </div>
    <div id="simozimoBox">
      <button id='simozimoCancel' onclick="simoCanButton(event)">×</button>
    </div>
    <div class="forGrid" id='nothing'>
      <div class="options">
        <div id="myInput">検索</div>
        <div id="searchCnt"></div>
        <div class="btn" id="batu" onclick="reset(event);">×</div>
        <div class="btn" id="jungyaku" onclick="transpose(event);">∨</div>
      </div>
      <div class="scrollcontent" id="radioScroll">
        <ul id="myUL"></ul>
      </div>
    </div>
    <div id="letterPopupBox" onclick="letterFunction(event)"><img id="letterPopup" src="https://imgur.com/5BeZ370.png">
    </div>
    <div id="letterPopuped">
      <a
        href="mailto:simozimostudio@gmail.com?subject=シモジモスタジオへお便り&body=内容：%0d%0a%0d%0aラジオネーム：%0d%0a%0d%0a住所：%0d%0a氏名：%0d%0a%0d%0a※ステッカーが欲しい方は住所・氏名の記入をお願い致します。%0d%0a※ラジオネームを記入していただいた場合、エンディングで毎回お名前をお呼びさせていただきます事、予めご了承ください。">メール</a>
      <a href="https://stand.fm/channels/6013b8002b4a4592fe95b767/letter">レター</a>
    </div>
  </div>



  <div class="forHid">
    <div class="forGrid">
      <div class="options other"><select id="tabs0" onchange="changeTab(event)"></select></div>
      <div id="undertabs0" class="scrollcontent"></div>
    </div>
  </div>


  <!-- // newtube -->
  <div class="forHid">
    <div class="forGrid">
      <div class="options other"><select id="tabs1" onchange="changeTab(event)"></select></div>
      <div id="undertabs1" class="scrollcontent">
      </div>
    </div>
  </div>


  <div class="forHid">
    <div class="forGrid">
      <div class="scrollcontent">
        <ul id="tiktok" class="scrollcontent"></ul>
      </div>
    </div>
  </div>


  <div class="forHid">
    <div class="forGrid">
      <div id="LINK">
        <a class="whitebtn"
          href='https://www.google.com/url?q=https%3A%2F%2Fpodcasts.apple.com%2Fjp%2Fpodcast%2F%25E3%2582%25B7%25E3%2583%25A2%25E3%2582%25B8%25E3%2583%25A2%25E3%2582%25B9%25E3%2582%25BF%25E3%2582%25B8%25E3%2582%25AA%2Fid1661944128&sa=D&sntz=1&usg=AOvVaw1wgVaKpTRrk54Xn8kRubiK'><img
            src="https://imgur.com/iMMUjC6.png" class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn"
          href='https://www.google.com/url?q=https%3A%2F%2Fopen.spotify.com%2Fshow%2F3Uueor1MkxGMdjdndJIOLH%3Fsi%3Dee76e930aeb4460e&sa=D&sntz=1&usg=AOvVaw3evkTyjl6tnmd-3Au4aslN'><img
            src="https://imgur.com/qDbtMwV.png" class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn"
          href='https://podcasts.google.com/feed/aHR0cHM6Ly9zdGFuZC5mbS9yc3MvNjAxM2I4MDAyYjRhNDU5MmZlOTViNzY3?hl=ja'><img
            src="https://imgur.com/0NuXeCu.png" class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn"
          href='https://www.google.com/url?q=https%3A%2F%2Famzn.asia%2Fd%2F0Q31Ey5&sa=D&sntz=1&usg=AOvVaw0f9mbhBD47mlxqeC79Ok75'><img
            src="https://imgur.com/CeoDTL8.png" class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn" href='https://twitter.com/simozimo_studio'><img src="https://imgur.com/qvlkWSV.png"
            class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn" href='https://note.com/kainob'><img src="https://imgur.com/KeLFaKO.png" class="whitebtnLogo"
            loading="lazy"></a>
        <a class="whitebtn" href='https://www.youtube.com/@fagofagoch'><img src="https://imgur.com/yzyS7ov.png"
            class="whitebtnLogo" loading="lazy"></a>
        <a class="whitebtn" href='https://www.tiktok.com/@simozimo_studio?_t=8hBcXcT8Eyn&_r=1'><img
            src="https://imgur.com/1s8Lenm.png" class="whitebtnLogo" loading="lazy"></a>
      </div>
      <div id="scores">
        <div id="loopcount">現在のスコア：0</div>
        <div id="bestscore">ベストスコア：0</div>
      </div>
      <div id="starPoint">星</div>
      <div id="gameCircle" onclick="gamestartButton(event);"></div>

      <div class="options">
        <div id="roleplay" onclick="rorlePlay(event)">遊び方</div>
        <div id="letsplay" onclick="gamestartButton(event);">本番</div>
      </div>

    </div>
    <img src='https://imgur.com/CpPP3J9.png' id="toptop">
  </div>

  <div class="forHid">
    <div class="forGrid">
      <div id="maps" class="scrollcontent">
        <div>出題ピン
          <button id="dartsBtn" onclick="dartsPin(event)">ダーツ</button>
        </div><input id="address1" type="text" onchange="geoChange(1)" placeholder="地名、郵便番号、施設など"></input>
        <div id="map1" class="mappp"></div>
        <div>解答ピン
        </div><input id="address2" type="text" onchange="geoChange(2)" placeholder="地名、郵便番号、施設など"></input>
        <div id="kyori"></div>
        <div id="map2" class="mappp"></div>
      </div>

    </div>

      <script
        src="https://maps.google.com/maps/api/js?key=AIzaSyCmQCFm1bfUmdpZmFPR36p3ReEGwV7A0-8&language=ja"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <script>




        let ballSize, barHeight, barWidth, locater, locater2, setNum, loopCount, skipinputs, makeInfoFlg, mistake
        let looopCnt = document.getElementById('loopcount')
        let inWid = window.innerWidth
        let inHeight = window.innerHeight
        let displayNum = 0
        let lastX = 0
        let loadingNum = 0
        let LongTapTime = 0
        let islooping = 0
        let lastYear = ''
        let lastMonth = ''
        let pointerDown = false;
        let pointerMove = false;
        let MidashiDown = false;
        let MidashiMove = false;
        let gamestart = false;
        let simoClickFlg = false;
        let roleFlg = false;
        let loadingFlg = true;
        let lessInfoflg = false;
        let searchDisplayFlg = false;
        let locaterFlg = false;
        let setNums = []
        let opValHairetu = []
        let transFlg = true
        let liLength = 0
        let liLengthAll = 0
        let simojimoIframeS = []
        const circle = {}
        const stocker = {}
        const star = {}
        const btnStyle = {}
        let ul = document.getElementById("myUL");
        const toptop = document.getElementById("toptop")
        const midashiS = document.getElementById("midashiS")
        const searchDisplay = document.getElementById("search")
        let simoBox = document.getElementById('simozimoBox')
        let searchCnt = document.getElementById("searchCnt")
        let searchIndex = document.getElementById("searchIndex")
        let letterBox = document.getElementById("letterPopuped")
        let LINKPARTS = document.getElementById('LINK')
        let input = document.getElementById('searchInput');
        let vInput = document.getElementById('myInput');
        let forHidEach = document.getElementsByClassName('forHid')
        const fortoptop = forHidEach[4]
        let midashiEach = document.getElementsByClassName('midashi')
        let firstScroll = document.querySelectorAll('.scrollcontent')[0]
        let loadingPart = document.getElementById('loadingPart').style
        let rolePlayPart = document.getElementById('roleplay')
        let letsPlayPart = document.getElementById('letsplay')
        let junGyaku = document.getElementById("jungyaku")
        const clStyle = document.getElementById("gameCircle").style
        const starStyle = document.getElementById('starPoint').style;
        const whBtn = document.getElementsByClassName('whitebtn')
        const isTouch = ('ontouchstart' in document);
        const downEvent = (isTouch) ? 'touchstart' : 'pointerdown';
        const moveEvent = (isTouch) ? 'touchmove' : 'pointermove';
        const upEvent = (isTouch) ? 'touchend' : 'pointerup';



        var firstIdo = 0
        var firstKeido = 0
        var firstResult = 0
        var answerMap, randomPostals
        var gLocations = []

        markers = []
        infoWinds = []

        const R = Math.PI / 180;


        window.onload = resize()

        pageFunction(displayNum)


        let loadLoop = setInterval(() => {
          if (loadingFlg) {
            loadingNum++
            loadingPart.transform = `rotate(${loadingNum}deg)`
          }
          else {
            clearInterval(loadLoop)
          }
        }, 5)


        function pageFunction(displayNum) {
          for (i = 0; i < forHidEach.length; i++) {
            if (displayNum == i) {
              forHidEach[i].classList.add("active")
            } else {
              forHidEach[i].classList.remove("active")
            }
            midashiEach[i].style.backgroundColor = (displayNum == i) ? "var(--redcolor)" : "var(--blacktrans)";
          }
        }

        window.onmousewheel = function (e) {
          if (e.pageY > inHeight / 24 * 17 && !gamestart) {
            if (event.wheelDelta < 0) {
              displayNum += 0.1;
              if (displayNum > 5.9) { displayNum = 0 }
            } else {
              displayNum -= 0.1;
              if (displayNum < 0) { displayNum = 5.9 }
            }
            floorNum = Math.floor(displayNum)
            pageFunction(floorNum)
          }
        }

        midashiS.addEventListener(downEvent, function (e) {
          if (!gamestart && !pointerDown) {
            event.preventDefault();
            MidashiDown = true;
            MidashiMove = false;
          }
        })


        midashiS.addEventListener(moveEvent, function (e) {
          if (!gamestart && MidashiDown) {
            event.preventDefault();
            midashiX = (isTouch) ? event.changedTouches[0].pageX : event.pageX;
            displayNum = Math.floor(((midashiX - inWid / 4) / midashiS.clientWidth) * 6)
            if (displayNum < 0) {
              displayNum = 0
            } else if (displayNum > 5) {
              displayNum = 5
            }
            if (lastX != displayNum) {
              pageFunction(displayNum)
            }
            lastX = displayNum
          }
        })

        midashiS.addEventListener(upEvent, function () {
          MidashiDown = false;
          MidashiMove = true;
        });

        function pagemove(e) {
          displayNum = [].slice.call(midashiEach).indexOf(e.target)
          pageFunction(displayNum)
          gamestart = false;

        }



        fortoptop.addEventListener(downEvent, function (e) {
          pointerDown = true;
          pointerMove = false;
          ataiX = (isTouch) ? event.changedTouches[0].pageX : event.pageX;
          ataiY = (isTouch) ? event.changedTouches[0].pageY : event.pageY;
          if (gamestart || roleFlg) {
            toptop.style.display = 'block'
            toptop.style.top = `${ataiY - (inWid + inHeight) * 0.0375}px`
            toptop.style.left = `${ataiX - (inWid + inHeight) * 0.0375}px`

            stocker.target = toptop;
            stocker.startDeg = + toptop.style.transform.replace(/[^\d.-]/g, '');
            stocker.cx = stocker.target.offsetLeft + stocker.target.offsetWidth / 2;
            stocker.cy = stocker.target.offsetTop + stocker.target.offsetHeight / 2;
            stocker.clickDeg = Math.atan2(ataiX - stocker.cx, stocker.cy - ataiY) * 180 / Math.PI;
          }

          if (islooping == 0) {
            ballLongMove();
          }
        });

        function ballLongMove() {
          let downLoop = setInterval(() => {
            if (gamestart || roleFlg) {
              if (!pointerMove && LongTapTime <= 1000) {
                locater2 = locater / 2.5
                locaterFlg = true;
                if (setDeg <= 45 || setDeg > 315) {
                  circle.top = (circle.top <= barHeight * 2) ? barHeight * 2 : circle.top - locater2
                  clStyle.top = `${circle.top}px`;
                } else if (setDeg <= 135) {
                  circle.right = (circle.right <= 0) ? 0 : circle.right - locater2
                  clStyle.right = `${circle.right}px`;
                } else if (setDeg <= 225) {
                  circle.top = (circle.top >= inHeight - barHeight) ? inHeight - barHeight : circle.top + locater2
                  clStyle.top = `${circle.top}px`;
                } else {
                  circle.right = (circle.right >= inWid - ballSize) ? inWid - ballSize : circle.right + locater2
                  clStyle.right = `${circle.right}px`;
                }
                if (!roleFlg) { HitHantei() }
                LongTapTime++;
                islooping = 1
              }
              else {
                clearInterval(downLoop)
                islooping = 0
                LongTapTime = 0
              }
            }
          }, 10)
        }


        fortoptop.addEventListener(moveEvent, function (e) {
          if (pointerDown) {
            pointerMove = true
            LongTapTime = 0
            islooping = 0
            event.preventDefault();
            ataiX = (isTouch) ? event.changedTouches[0].pageX : event.pageX;
            ataiY = (isTouch) ? event.changedTouches[0].pageY : event.pageY;
            setDeg = (Math.atan2(ataiX - stocker.cx, stocker.cy - ataiY) * 180 / Math.PI
              + stocker.startDeg - stocker.clickDeg + 360) % 360;
            if (gamestart || roleFlg) {
              toptop.style.transform = `rotate(${setDeg}deg)`
              if (setDeg <= 45 || setDeg > 315) {
                circle.top = (circle.top <= barHeight * 2) ? barHeight * 2 : circle.top - locater
                clStyle.top = `${circle.top}px`;
              } else if (setDeg <= 135) {
                circle.right = (circle.right <= 0) ? 0 : circle.right - locater
                clStyle.right = `${circle.right}px`;
              } else if (setDeg <= 225) {
                circle.top = (circle.top >= inHeight - barHeight) ? inHeight - barHeight : circle.top + locater
                clStyle.top = `${circle.top}px`;
              } else {
                circle.right = (circle.right >= inWid - ballSize) ? inWid - ballSize : circle.right + locater
                clStyle.right = `${circle.right}px`;
              }
              if (roleFlg) {
                if (rolePlayPart.innerText != '本番は白いのを避けて' && rolePlayPart.innerText != 'ゲームスタート/ストップ') {
                  rolePlayPart.innerText = '練習する'
                }
              } else {
                HitHantei()
              }
            }
            pointerMove = false;
          }
        }, { passive: false });


        toptop.addEventListener(upEvent, function () {
          pointerDown = false;
          pointerMove = true;
          delete stocker.target
          toptop.style.display = 'none'
          LongTapTime = 0
          islooping = 0
        });


        //resize
        function resize() {
          inWid = window.innerWidth
          inHeight = window.innerHeight

          let yokoDekaFlg = inWid >= inHeight

          documentStyle = document.documentElement.style

          documentStyle.setProperty('--inWid', `${inWid}px`);
          documentStyle.setProperty('--inHeight', `${inHeight}px`);

          //noteサイズ調整

          let noteThumbnail = document.querySelectorAll('.noteThumbnail')
          noteThumbnail.forEach(e => {
            e.style.height = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3 / 1.91}px` : `${inWid / 24 * 22 / 1.91}px`
            e.style.width = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3}px` : `${inWid / 24 * 22}px`
            e.style.margin = (yokoDekaFlg) ? `0 ${inWid / 24}px ${inWid / 24}px 0` : `0 auto ${inHeight / 24}px auto`
          })



          let noteThumbnailImg = document.querySelectorAll('.noteThumbnailImg')
          noteThumbnailImg.forEach(e => {
            e.style.height = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3 / 1.91}px` : `${inWid / 24 * 22 / 1.91}px`
            e.style.width = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3}px` : `${inWid / 24 * 22}px`
          })

          //youtubeサイズ調整
          let iFrame = document.querySelectorAll('iframe')
          iFrame.forEach(e => {
            e.style.height = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3 / 16 * 9}px` : `${inWid / 24 * 22 / 16 * 9}px`
            e.style.width = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3}px` : `${inWid / 24 * 22}px`
          })


          let youtubeBox = document.querySelectorAll('.youtubebox')
          youtubeBox.forEach(e => {
            e.style.height = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3 / 16 * 9 + inHeight / 12}px` : `${inWid / 24 * 22 / 16 * 9 + inHeight / 12}px`
            e.style.width = (yokoDekaFlg) ? `${(inWid / 24 * 22 - inWid / 12) / 3}px` : `${inWid / 24 * 22}px`
            e.style.margin = (yokoDekaFlg) ? `0 ${inWid / 24}px 0 0 ` : `0 0 ${inHeight / 24}px 0`
            e.style.overflow = (yokoDekaFlg) ? 'hidden' : 'display'
          })

          let lastClass = ''
          let lastClassNum = 1

          let noteAndYoutube = document.querySelectorAll('.noteThumbnail,.youtubebox')
          for (i = 0; i < noteAndYoutube.length; i++) {
            if (lastClass != noteAndYoutube[i].className) {
              lastClass = noteAndYoutube[i].className
              lastClassNum = 1
            }
            else {
              lastClassNum++;
            }
            if (yokoDekaFlg && lastClassNum % 3 == 0) {
              noteAndYoutube[i].style.margin = (noteAndYoutube[i].className.indexOf('youtubebox') > -1) ? `0 0 0 0` : `0 0 ${inWid / 24}px 0`
            }
          }

          barHeight = inHeight / 10
          locater = inHeight / 250
          barWidth = (inWid - inWid / 16) / 24 * 5.5
          ballSize = Math.floor(barHeight / 2) - 5

          clStyle.width = `${ballSize}px`
          clStyle.height = `${ballSize}px`
          starStyle.width = `${ballSize}px`
          starStyle.height = `${ballSize}px`
          starStyle.fontSize = `${ballSize}px`

          if (!gamestart) {
            circle.top = inHeight / 24 * 14
            circle.right = inWid / 2 - (ballSize / 2)
            clStyle.top = `${circle.top}px`
            clStyle.right = `${circle.right}px`
          }
        }

        window.addEventListener('DOMContentLoaded', function () {
          window.addEventListener('resize', function () {
            resize();
          });
        });

        //game

        roleHairetu = ['遊び方', '画面内で円を描いて', '練習する', '本番は白いのを避けて']

        function rorlePlay(e) {
          let ETarget = rolePlayPart.innerText
          roleFlg = true;
          if (ETarget == '遊び方') {
            rolePlayPart.innerText = '画面内で円を描いて'
          } else if (ETarget == '練習する') {
            game(e)
            rolePlayPart.innerText = '本番は白いのを避けて'
          } else if (ETarget == 'ゲームスタート/ストップ') {
            roleFlg = false;
            game(e)
          }
        }

        function HitHantei() {
          let circleTop = circle.top
          let circleRight = circle.right
          if (star.starFlg == '出現' && star.stTop - ballSize <= circleTop && star.stTop + ballSize >= circleTop && star.stRight - ballSize <= circleRight && star.stRight + ballSize >= circleRight) {
            starStyle.display = 'none'
            star.starFlg = '入手'
            clStyle.backgroundColor = 'gold'
            star.getCount = loopCount
          }
          if (btnStyle.whTop - ballSize <= circleTop && btnStyle.whTop + barHeight >= circleTop && btnStyle.whRight - ballSize <= circleRight && btnStyle.whRight + barWidth >= circleRight) {
            if (star.starFlg == '入手') {
              if (whBtn[btnStyle.num].style.backgroundColor != 'var(--blacktrans)') {
                whBtn[btnStyle.num].style.backgroundColor = 'var(--blacktrans)'
                loopCount += 1
                looopCnt.innerText = `現在のスコア：${loopCount}`
              }
            }
            else {
              mistake = true
              clStyle.backgroundColor = "transparent"
              clStyle.border = "5px dotted var(--redcolor)"
              pointerDown = false
              pointerMove = true;
            }
          }
        }

        function gamestartButton(e) {
          roleFlg = false;
          if (e.target.id == 'letsplay') {
            if (letsPlayPart.innerText == '本番') {
              letsPlayPart.innerText = '遊び方'
              rolePlayPart.innerText = 'ゲームスタート/ストップ'
              game(e)
            } else {
              letsPlayPart.innerText = '本番'
              rolePlayPart.innerText = '画面内で円を描いて'
              roleFlg = true;
              gamestart = false
            }
          } else {
            letsPlayPart.innerText = '遊び方'
            rolePlayPart.innerText = 'ゲームスタート/ストップ'
            game(e)
          }

        }


        function game(e) {
          islooping = 1
          if (roleHairetu.indexOf(rolePlayPart.innerText) == -1) {
            roleFlg = false;
          }
          if (rolePlayPart.innerText == 'ゲームスタート/ストップ') {
            letsPlayPart.innerText = '遊び方'
          }
          let bestScore = document.getElementById('bestscore');
          star.starFlg = '消滅'
          starStyle.display = 'none'
          clStyle.border = 'none'
          clStyle.backgroundColor = 'var(--redcolor)'
          if (gamestart) {
            gamestart = false
            for (i = 0; i < whBtn.length; i++) {
              whBtn[i].style.backgroundColor = 'var(--whitecolor)'
              whBtn[i].style.position = 'static'
              whBtn[i].style.display = 'inline-block'
            }
          }
          else {
            if (!roleFlg && Number(bestScore.innerText.substr(7, 1)) < loopCount) {
              bestScore.innerText = `ベストスコア：${loopCount}`
            }
            gamestart = true;
            makeInfoFlg = true;
            mistake = false;
            if (!roleFlg) {
              loopCount = 0
              looopCnt.innerText = `現在のスコア：${loopCount}`
            }
            toptop.style.transform = 'rotate(0deg)'
            circle.top = circle.top = inHeight / 24 * 14
            circle.right = inWid / 2 - (ballSize / 2)
            clStyle.top = `${circle.top}px`
            clStyle.right = `${circle.right}px`
            for (i = 0; i < whBtn.length; i++) {
              whBtn[i].style.display = 'none'
            }
            plusMinus = [barWidth, -barWidth, -barWidth * 1.5, barWidth * 1.5, 0]

            let loop = setInterval(() => {
              if (mistake || !gamestart) {
                clearInterval(loop)
              }
              if (makeInfoFlg) {
                btnStyle.num = Math.floor(Math.random() * whBtn.length)
                whStyle = whBtn[btnStyle.num].style
                whStyle.backgroundColor = 'var(--whitecolor)'
                whStyle.position = 'absolute'
                btnStyle.whTop = 0;
                btnStyle.whRight = Math.floor(Math.random() * inWid);
                whStyle.top = '0px';
                whStyle.right = `${btnStyle.whRight}px`
                whStyle.display = 'block'
                makeInfoFlg = false;
              }
              btnStyle.whTop += barHeight;
              btnStyle.whRight += plusMinus[Math.floor(Math.random() * 5)]
              if (btnStyle.whRight < 0) {
                btnStyle.whRight = Math.abs(btnStyle.whRight)
              } else if (btnStyle.whRight > inWid) {
                btnStyle.whRight = inWid * 2 - btnStyle.whRight
              }
              whStyle.top = `${btnStyle.whTop}px`
              whStyle.right = `${btnStyle.whRight}px`
              if (!roleFlg) { HitHantei() }
              if (btnStyle.whTop >= inHeight) {
                makeInfoFlg = true;
                if (!roleFlg) {
                  loopCount += 1
                  looopCnt.innerText = `現在のスコア：${loopCount}`
                }
                if (loopCount % 7 == 0 && loopCount >= 1) {
                  starStyle.display = 'block'
                  star.stTop = barHeight * 3
                  star.stRight = btnStyle.whRight
                  starStyle.top = `${star.stTop}px`
                  starStyle.right = `${star.stRight}px`
                  star.starFlg = '出現';
                } else {
                  star.starFlg = (star.starFlg == '入手') ? '入手' : '消滅'
                  starStyle.display = 'none'
                }
                if (star.starFlg == '入手' && loopCount - star.getCount >= 3) {
                  clStyle.backgroundColor = 'var(--redcolor)'
                  star.starFlg = '消滅'
                }
              }

            }, 500)
          }
        }


        const postalGet = 'https://script.google.com/macros/s/AKfycbwp_lYxMAT3zKW0J8iGma53ZogIEWQUpGlrOjrBucZoCnVe8ivHfmSbuilqCch-rKY/exec';
        fetch(postalGet).then(response => response.json()).then(data => {
          randomPostals = data[0];
          document.getElementById('dartsBtn').style.color = 'var(--whitecolor)'
        })

        const endpoint = "https://script.google.com/macros/s/AKfycbypmDkRQ6_muh8iF9dNVA0q2ycBI-4IQXEKX7xbwf71_qlB8R9-9HUCvVoFTP0Ftek0tA/exec";
        fetch(endpoint)
          .then(response => response.json())
          .then(data => {
            const object = data;
            let htmltxt = ''
            data[0].forEach(data => {
              cls = data.cls
              spcls = data.cls.split(' ')
              txtforbtn = ''
              if (spcls.length != 0) {
                spcls.forEach(c => {
                  if (c != '') {
                    txtforbtn += `<button class='radioclass'onclick=searchOption(event) value='${c}'>${c}</button>`
                  }
                })
              }

              thisYear = data.date.substr(0, 4)
              thisMonth = data.date.substr(5, 2)
              if (lastYear != thisYear) {
                lastYear = thisYear
                htmltxt += `<li class="dateClass Year"><button class='dateOpt' onclick=searchOption(event) value='${thisYear}/'><span>${thisYear}</span><span style='display:none;'>/12/31</span></button></li>`
                liLengthAll += 1;
              }
              if (lastMonth != thisMonth) {
                lastMonth = thisMonth
                htmltxt += `<li class="dateClass Month"><button class='dateOpt' onclick=searchOption(event) value='/${thisMonth}/'><span style='display:none;'>${thisYear}/</span><span>${thisMonth}</span><span style='display:none;'>/31</span></button></li>`
                liLengthAll += 1;
              }

              summaryPart = (data.summary.length != 0) ? `<div class="summaries">${data.summary}</div>` : `<div class="summaries nosummaries">　</div>`;
              htmltxt += `<li class="'${cls}"><a href="${data.url}"><span class='radiotitle'>${data.title}</span>${summaryPart}</a><time>${data.date}</time>${txtforbtn}<button value="${data.url}" class="radioclass iframeButton" onclick='simoClick(event)'>♪</button></li>`

              liLengthAll += 1;
              liLength += 1;
            })
            ul.innerHTML = htmltxt;
            searchCnt.innerHTML = liLength
            for (let x = 0; x < 2; x++) {

              dataArr = [];
              tabtxt = ''
              untabtxt = ''
              ultxt = {}

              forfirstinput = `tabclass${x}`
              data[x + 1].forEach(data => {
                cls = data.cls;
                litxt = (x == 0) ? `<li><a class="noteThumbnail ${cls}" href="${data.url}"><span class="notetitle">${data.title}<br><time>${changeDate(data.pubdate)}</time></span><img src="${data.thumbnail}" class="noteThumbnailImg" loading="lazy"></a></li>` : `<li class="youtubebox ${cls}"><iframe src="https://www.youtube.com/embed/${data.videoid}"style=";border:none;" allowfullscreen loading="lazy"></iframe><p><a href="${data.url}">${data.title.replace(`【${cls}】`, "")}</a></p></li>`
                if (!ultxt[cls]) {
                  tabtxt += `<option class="${forfirstinput}" id="${cls}">${cls}</option>`;
                  untabtxt += `<ul class="tab_content" id="${cls}_content"></ul>`;
                }
                ultxt[cls] = (ultxt[cls]) ? ultxt[cls] + litxt : litxt
              })
              document.getElementById(`tabs${x}`).innerHTML = tabtxt
              document.getElementById(`undertabs${x}`).innerHTML = untabtxt

              Object.keys(ultxt).forEach(e => {
                document.getElementById(`${e}_content`).innerHTML = ultxt[e]
              });
              let firstinput = document.querySelectorAll(`.${forfirstinput}`)[0]
              document.getElementById(`${firstinput.id}_content`).style.display = "block"
            }
            let tiktokUL = document.getElementById('tiktok');
            var tiktokJs = document.createElement('script')
            tiktokJs.src = "https://www.tiktok.com/embed.js"
            let tiktokTxt = ''
            data[3].forEach(data => {

              tiktokTxt += `<li class="tiktokLi"><blockquote class="tiktok-embed" cite="${data.url}" data-video-id="${data.videoid}" data-embed-from="embed_page"><section><a target="_blank" title="@simozimo_studio" href="https://www.tiktok.com/@simozimo_studio?refer=embed">@simozimo_studio</a></section></blockquote></li>`
            });
            tiktokUL.innerHTML = tiktokTxt
            tiktokUL.appendChild(tiktokJs)

            loadingPart.display = "none"
            loadingFlg = false;
            resize();
            firstScroll.scroll(0, 30 + inWid / 96)
          });


        li = ul.getElementsByTagName('li');

        function letterFunction(e) {
          letterBox.style.display = (letterBox.style.display != 'block') ? 'block' : 'none';
        }

        function searchOption(e) {
          let forInputValue = e.target.value;
          if (forInputValue == undefined) { return }
          vInput.innerHTML = vInput.innerHTML.replace('検索', '')
          if (input.value.indexOf(forInputValue) == -1) {
            input.value += ` ${forInputValue} `
            let opValButton = `<div class='opValButton' onclick='opValDel(event)'>${forInputValue} ×</div>`
            vInput.innerHTML += opValButton
            opValHairetu.push(forInputValue)
            searchUpdate(opValHairetu)
          }
        }


        function searchDisplayer(e) {
          let pushId = e.target.id
          if (pushId == 'myInput') {
            if (simoClickFlg) {
              searchDisplay.style.height = 'calc(var(--inHeight)/24*16 - 160px)'
              searchIndex.style.height = 'calc(var(--inHeight)/24*14 - 195px)'
            } else {
              searchDisplay.style.height = 'calc(var(--inHeight)/24*16)'
              searchIndex.style.height = 'calc(var(--inHeight)/24*14 - 35px)'
            }
            searchDisplayFlg = true;
            searchDisplay.style.display = 'block'
            let end = input.value.length
            input.focus();
            input.setSelectionRange(end, end);
          }
          else if (pushId == '' || pushId == 'searchInput' || pushId == 'simozimoCancel') {
            return;
          }
          else {
            searchDisplay.style.display = 'none'
            if (searchDisplayFlg) {
              if (pushId == 'jungyaku' || pushId == 'batu' || opValHairetu.length != 0) {
                seachResultAnime();
              }
              searchDisplayFlg = false;
            }
          }
          if (pushId.indexOf('letter') == -1) {
            letterBox.style.display = 'none'
          }
        }

        function seachResultAnime() {
          if (lessInfoflg) {
            firstScroll.scroll(0, 0);
          } else {
            firstScroll.scroll(0, 30 + inWid / 96)
          }
          for (i = 0; i < liLengthAll; i++) {
            li[i].classList.add("hiddenAnime")
          }

          setTimeout(() => {
            for (i = 0; i < liLengthAll; i++) {
              li[i].classList.remove("hiddenAnime")
            }
          }, 600)


        }


        function searchFunction(e) {
          opValHairetu = input.value.split(' ')
          let forVInputTxt = ''
          opValHairetu = opValHairetu.filter(value => (value.length != 0))
          opValHairetu.forEach(e => {
            forVInputTxt += `<div class='opValButton' onclick='opValDel(event)'>${e} ×</div>`
          })
          vInput.innerHTML = forVInputTxt
          searchUpdate(opValHairetu)
          searchDisplay.style.display = 'none'
        }


        function searchUpdate(opValHairetu) {
          if (opValHairetu.length == 0) {
            reset();
            return;
          } else {
            for (i = 0; i < liLengthAll; i++) {
              li[i].style.display = "inline-block";
            }
            let dateHairetu = [];

            for (i = 0; i < opValHairetu.length; i++) {
              if (opValHairetu[i].indexOf('/') > -1) {
                dateHairetu.push(opValHairetu[i])
              }
              filter = opValHairetu[i].toUpperCase()
              var newLi = document.querySelectorAll('li[style*="display: inline-block;"]');
              newLi.forEach(e => {
                txtValue = e.textContent || e.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                  e.style.display = "inline-block";
                } else {
                  if (e.className.indexOf('dateClass') == -1)
                    e.style.display = "none";
                }
              })
            }
            if (dateHairetu.length > 0) {
              for (i = 0; i < dateHairetu.length; i++) {
                filter = dateHairetu[i]
                var dateLi = (filter.length >= 5) ? document.querySelectorAll('.dateClass[style*="display: inline-block;"]') : document.querySelectorAll('.dateClass:not(.Year)[style*="display: inline-block;"]')
                dateLi.forEach(e => {
                  txtValue = e.textContent || e.innerText;
                  if (txtValue.indexOf(filter) > -1) {
                    e.style.display = "inline-block";
                  } else {
                    e.style.display = "none";
                  }
                })
              }
            }
            getCnt = document.querySelectorAll('li:not(.dateClass)[style*="display: inline-block;"]').length

            if (getCnt <= 50) {
              lessInfoflg = true;
              var dateLi = document.querySelectorAll('.dateClass:not(.Year)[style*="display: inline-block;"]')
              dateLi.forEach(e => {
                e.style.display = "none";
              })
            } else {
              lessInfoflg = false;
            }
            var LastLi = document.querySelectorAll('li[style*="display: inline-block;"]');
            for (i = 0; i < LastLi.length; i++) {
              var EachLi = LastLi[i]
              var PrevLi = LastLi[i - 1]
              if (i > 0 && EachLi.className.indexOf('Month') > -1 && PrevLi.className.indexOf('Month') > -1) {
                PrevLi.style.display = "none";
              } else if (i > 0 && EachLi.className.indexOf('Year') > -1 && PrevLi.className.indexOf('Month') > -1) {
                PrevLi.style.display = "none";
              } else if (i > 0 && EachLi.className.indexOf('Year') > -1 && PrevLi.className.indexOf('Year') > -1) {
                PrevLi.style.display = "none";
              }
              if (i == LastLi.length - 1 && EachLi.className.indexOf('Month') > -1) {
                EachLi.style.display = "none"
              } else if (i == LastLi.length - 1 && EachLi.className.indexOf('Year') > -1) {
                EachLi.style.display = "none"
              }

            }


            searchCnt.innerHTML = getCnt
            seachResultAnime()
          }
        }

        function opValDel(e) {
          e.target.remove();
          str = e.target.innerText;
          delStr = str.substr(0, str.indexOf(' '))
          opValHairetu.splice(opValHairetu.indexOf(delStr), 1)
          input.value = input.value.replace(delStr, '')
          opValHairetu = opValHairetu.filter(value => (value.length != 0))
          searchUpdate(opValHairetu);
        }

        function compareText(a, b) {
          let plmn = (transFlg) ? 1 : -1
          let atime = ''
          let btime = ''
          if (a.className.indexOf('dateClass') > -1) {
            aSpan = a.getElementsByTagName('span')
            for (i = 0; i < aSpan.length; i++) {
              atime += aSpan[i].innerText
            }
          } else {
            atime = a.getElementsByTagName('time')[0].innerText
          }
          if (b.className.indexOf('dateClass') > -1) {
            bSpan = b.getElementsByTagName('span')
            for (i = 0; i < bSpan.length; i++) {
              btime += bSpan[i].innerText
            }
          } else {
            btime = b.getElementsByTagName('time')[0].innerText
          }


          if (atime > btime)
            return 1 * plmn;
          else if (atime < btime)
            return -1 * plmn;
          else if (atime == btime) {
            if (a.className.indexOf('Year') > -1 || a.className.indexOf('Month') > -1) {
              return 1;
            } else if (b.className.indexOf('Year') > -1 || b.className.indexOf('Month') > -1) {
              return 1;
            } else if (a.getElementsByTagName('a')[0] > b.getElementsByTagName('a')[0])
              return 1 * plmn;
            else {
              return -1 * plmn
            }
          }
          return 0;
        }

        function transpose(e) {
          var dateLi = document.querySelectorAll('.dateClass')
          if (transFlg) {
            junGyaku.style.boxShadow = "inset 1px 1px 2px var(--graycolor),inset -1px -1px 2px white"
            junGyaku.innerText = "∧"
            dateLi.forEach(e => {
              eSpan = e.getElementsByTagName('span')
              for (i = 0; i < eSpan.length; i++) {
                if (eSpan[i].innerText == '/31') {
                  eSpan[i].innerText = '/01'
                } else if (eSpan[i].innerText == '/12/31') {
                  eSpan[i].innerText = '/01/01'
                }
              }
            })
            myArray = Array.prototype.slice.call(li);
            myArray.sort(compareText);
            transFlg = false;
          } else {
            junGyaku.style.boxShadow = "1px 1px 2px var(--graycolor), -1px -1px 2px white"
            junGyaku.innerText = "∨"
            dateLi.forEach(e => {
              eSpan = e.getElementsByTagName('span')
              for (i = 0; i < eSpan.length; i++) {
                if (eSpan[i].innerText == '/01') {
                  eSpan[i].innerText = '/31'
                } else if (eSpan[i].innerText == '/01/01') {
                  eSpan[i].innerText = '/12/31'
                }
              }
            })
            myArray = Array.prototype.slice.call(li);
            myArray.sort(compareText);
            transFlg = true;
          }
          for (let i = 0; i < myArray.length; i++) {
            ul.appendChild(ul.removeChild(myArray[i]))
          }
          seachResultAnime()
        }

        function reset(e) {
          for (i = 0; i < liLengthAll; i++) {
            li[i].style.display = "inline-block";
          }
          opValHairetu = []
          input.value = ''
          vInput.innerText = "検索"
          searchDisplay.style.display = 'none'
          vInput.style.color = "var(--blackcolor)"
          searchCnt.innerHTML = liLength
          lessInfoflg = false;
          seachResultAnime();
        }

        //writing
        function changeDate(date) {
          let datArr = date.split(' ')
          let monthArr = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Dec', 'Nov']
          let datstr = `${datArr[3]}/${monthArr.indexOf(datArr[2]) + 1}/${datArr[1]}`
          return datstr;
        }

        function changeTab(e) {
          let check = e.target.value
          let checkId = e.target.id
          let other = (checkId == 'tabs0') ? document.querySelectorAll('.tabclass0') : document.querySelectorAll('.tabclass1');
          document.getElementById(`${check}_content`).style.display = "block"
          other.forEach(e => {
            if (e.id != check) {
              document.getElementById(`${e.id}_content`).style.display = ""
            }
          })
        }


        function simoClick(e) {
          if (simoClickFlg) {
            document.getElementsByClassName('standfm-embed-iframe')[0].remove();
          }
          var forIframeValue = String(e.target.value)
          var iframeTxt = `<iframe src="https://stand.fm/embed${forIframeValue.substr(forIframeValue.indexOf('/episodes'))}" class="standfm-embed-iframe" frameborder="0" allowtransparency="true" allow="encrypted-media" loading="lazy"></iframe>`
          simoBox.style.display = 'block'
          simoBox.innerHTML += iframeTxt
          simoClickFlg = true;
        }

        function simoCanButton(e) {
          document.getElementsByClassName('standfm-embed-iframe')[0].remove();
          simoBox.style.display = 'none'
          simoClickFlg = false;
        }



        function distance(lat1, lng1, lat2, lng2) {
          lat1 *= R;
          lng1 *= R;
          lat2 *= R;
          lng2 *= R;
          return 6371 * Math.acos(Math.cos(lat1) * Math.cos(lat2) * Math.cos(lng2 - lng1) + Math.sin(lat1) * Math.sin(lat2));
        }

        function display(inAd, mapT, num) {
          if (firstResult == 0 && num > 1) {
            document.getElementById('address1').value = '問題の位置を決めて'
            return;
          }
          var target = mapT
          geocoder = new google.maps.Geocoder();

          geocoder.geocode({ address: inAd }, (results, status) => {
            if (status == 'OK') {
              ido = results[0].geometry.location.lat()
              keido = results[0].geometry.location.lng()
              if (gLocations.length <= 1) {
                answerMap = new google.maps.Map(target, {
                  center: results[0].geometry.location,
                  zoom: 10,
                  mapTypeId: 'roadmap'
                });
              }
              if (num == 1) {
                gLocations = []
                markers = []
                infoWinds = []
                document.getElementById('kyori').innerHTML = ''
                firstIdo = ido
                firstKeido = keido
                firstResult = results[0].geometry.location
                marker = new google.maps.Marker({
                  map: answerMap,
                  position: firstResult,
                  animation: google.maps.Animation.DROP
                });
                var infoWindow = new google.maps.InfoWindow({
                  content: `<strong style="color:var(--redcolor);">${inAd}</strong>`,
                  position: answerMap.getCenter()
                });
                infoWindow.open(answerMap, marker);

                target.style.height = `${inHeight / 8}px`
              } else {
                answerKyori = distance(firstIdo, firstKeido, ido, keido).toFixed(2)
                gLocations.push({ gLoc: results[0].geometry.location, gKyori: answerKyori, gName: inAd })

                for (i = 0; i < gLocations.length; i++) {
                  markers[i] = new google.maps.Marker({
                    map: answerMap,
                    position: gLocations[i].gLoc,
                    animation: google.maps.Animation.DROP
                  });
                  infoWinds[i] = new google.maps.InfoWindow({
                    content: `<strong style="color:var(--blackcolor);">${gLocations[i].gName}/${gLocations[i].gKyori}km</strong>`,
                    position: answerMap.getCenter()
                  });

                  infoWinds[i].open(answerMap, markers[i]);
                  markerEvent(i)
                }

                if (answerKyori <= 20) {
                  document.getElementById(`kyori`).innerHTML = `正解！　出題ピンから${answerKyori}km`
                  marker2 = new google.maps.Marker({
                    map: answerMap,
                    position: firstResult,
                    animation: google.maps.Animation.DROP
                  });

                  var infoWindow = new google.maps.InfoWindow({
                    content: `<strong style="color:var(--redcolor);">正解！</strong>`,
                    position: firstResult
                  });
                  infoWindow.open(answerMap, marker2);

                } else {
                  document.getElementById(`kyori`).innerHTML = `出題ピンから${answerKyori}km`
                }

              }

            } else {
              document.getElementById(`kyori`).innerHTML = '該当する場所が見つかりませんでした。'
            }
          });
        }


        // マーカーをクリックしたら吹き出しを表示
        function markerEvent(i) {
          markers[i].addListener('click', function () {
            infoWinds[i].open(answerMap, markers[i]);
          });
        }


        function geoChange(num) {
          var inputAddress = document.getElementById(`address${num}`).value;
          document.getElementById(`address${num}`).blur();
          var target = document.getElementById(`map${num}`);
          display(inputAddress, target, num)
        }

        function dartsPin(e) {
          randP = String(randomPostals[Math.floor(Math.random() * 100) + 1])
          var inAd = `${randP.slice(0, 3)}-${randP.slice(3)}`
          var target = document.getElementById('map1')
          geocoder = new google.maps.Geocoder();
          geocoder.geocode({ address: inAd }, (results, status) => {
            if (status == 'OK') {
              var inputAddress = results[0].formatted_address
              gLocations = []
              markers = []
              infoWinds = []
              document.getElementById('address1').value = ''
              document.getElementById('kyori').innerHTML = ''
              ido = results[0].geometry.location.lat() + 0.01
              keido = results[0].geometry.location.lng() + 0.01
              const map = new google.maps.Map(target, {
                center: { lat: ido, lng: keido },
                zoom: 18,
                mapTypeId: 'satellite'
              });
              new google.maps.Marker({
                map: map,
                position: { lat: ido, lng: keido },
                animation: google.maps.Animation.DROP
              });
              firstIdo = ido
              firstKeido = keido
              firstResult = { lat: ido, lng: keido }
              document.getElementById('map2').innerHTML = ''
            }
            else {
              target.innerHTML += '該当する場所が見つかりませんでした。'
            }
          })
        }

      </script>

</body>

</html>
